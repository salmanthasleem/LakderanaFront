(this.webpackJsonplakderanafront=this.webpackJsonplakderanafront||[]).push([[0],{403:function(e,t,n){},404:function(e,t,n){},575:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(76),c=n.n(i),s=(n(403),n(404),n(651)),o=n(591),l=n(7),u=n.n(l),d=n(13),b=n(4),m=n(227),h=n(671),j=n(19),p=n(646),f=n(666),O=n(672),x=n(664),g=n(645),v=n(367),y=n(644),w=n(258),S=n.n(w),N=n(328),I=n.n(N),C=n(329),k=n.n(C),T=n(332),A=n.n(T),B=n(330),D=n.n(B),E=n(261),q=n.n(E),F=n(331),P=n.n(F),R=n(25),V=new Map;V.set("Owner",1).set("Manager",2).set("Assistant Manager",3).set("HR Staff",4).set("Employee",5);var L=Object(a.createContext)(null);function M(){return r.a.useContext(L)}var H=n(1),Y=[{id:"Staff",children:[{id:"Customer Handling",icon:Object(H.jsx)(S.a,{}),active:!0},{id:"Payments And Services",icon:Object(H.jsx)(I.a,{})},{id:"Bar",icon:Object(H.jsx)(k.a,{})}]},{id:"Human Resource Staff",children:[{id:"Attendance",icon:Object(H.jsx)(S.a,{})},{id:"Manage Staff",icon:Object(H.jsx)(D.a,{})}]},{id:"Manager / Owner",children:[{id:"Manage Rooms",icon:Object(H.jsx)(q.a,{})},{id:"Manage Employees",icon:Object(H.jsx)(P.a,{})},{id:"Manage Branches",icon:Object(H.jsx)(q.a,{})},{id:"Statistics",icon:Object(H.jsx)(A.a,{})}]}],z={py:"2px",px:3,color:"rgba(255, 255, 255, 0.7)","&:hover, &:focus":{bgcolor:"rgba(255, 255, 255, 0.08)"}},X={boxShadow:"0 -1px 0 rgb(255,255,255,0.1) inset",py:4,px:3};function W(e){var t=Object(R.g)(),n=Object.assign({},e),r=Object(a.useState)(0),i=Object(b.a)(r,2),c=i[0],s=i[1],l=M().userData.empStatus,u=function(e){switch(e){case"Staff":return"Employee";case"Human Resource Staff":case"Assistant Manager":case"HR Staff":return"HR Staff";case"Manager / Owner":case"Manager":return"Manager";case"Owner":return"Owner";default:return 1e3}};return Object(H.jsx)(f.a,Object(j.a)(Object(j.a)({variant:"permanent"},n),{},{children:Object(H.jsxs)(O.a,{disablePadding:!0,children:[Object(H.jsx)(x.a,{sx:Object(j.a)(Object(j.a)(Object(j.a)({},z),X),{},{fontSize:22,color:"#fff",display:"flex",justifyContent:"space-evenly"}),children:Object(H.jsx)("img",{src:"/hotel.png",style:{height:"10rem"}})}),Y.map((function(e){var n=e.id,a=e.children,r=V.get(u(n)),i=V.get(u(l));return console.log(i,r),i===r||1===i?Object(H.jsxs)(o.a,{sx:{bgcolor:"#101F33"},children:[Object(H.jsx)(x.a,{sx:{py:2,px:3},children:Object(H.jsx)(y.a,{sx:{color:"#fff"},children:n})}),a.map((function(e,n){var a=e.id,r=e.icon;e.active;return Object(H.jsx)(x.a,{disablePadding:!0,children:Object(H.jsxs)(g.a,{selected:c===a+n,sx:z,onClick:function(){return function(e,n){s(e+n);var a=e.replaceAll(" ","");t("/protected/".concat(a))}(a,n)},children:[Object(H.jsx)(v.a,{children:r}),Object(H.jsx)(y.a,{children:a})]})},a)})),Object(H.jsx)(p.a,{sx:{mt:2}})]},n):null}))]})}))}var U=n(647),K=n(3),J=n(363),G=Object(J.a)({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5},button:{fontSize:20}},shape:{borderRadius:8},components:{MuiTab:{defaultProps:{disableRipple:!0}}},mixins:{toolbar:{minHeight:48}}}),Q=G=Object(j.a)(Object(j.a)({},G),{},{components:{MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#081627"}}},MuiButton:{styleOverrides:{root:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}}},MuiTabs:{styleOverrides:{root:{marginLeft:G.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:G.palette.primary.dark}}},MuiTab:{styleOverrides:{root:Object(K.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},G.breakpoints.up("md"),{padding:0,minWidth:0})}},MuiIconButton:{styleOverrides:{root:{padding:G.spacing(1)}}},MuiTooltip:{styleOverrides:{tooltip:{borderRadius:4}}},MuiDivider:{styleOverrides:{root:{backgroundColor:"rgb(255,255,255,0.15)"}}},MuiListItemButton:{styleOverrides:{root:{"&.Mui-selected":{color:"#4fc3f7"}}}},MuiListItemText:{styleOverrides:{primary:{fontSize:14,fontWeight:G.typography.fontWeightMedium}}},MuiListItemIcon:{styleOverrides:{root:{color:"inherit",minWidth:"auto",marginRight:G.spacing(2),"& svg":{fontSize:20}}}},MuiAvatar:{styleOverrides:{root:{width:32,height:32}}},MuiPaper:{styleOverrides:{root:{backgroundColor:"#eaeff1"}}}}}),Z=n(673),$=n(668),_=n(128),ee=n(335),te=n.n(ee),ne=n(336),ae=n.n(ne),re=n(675),ie=n(661),ce=n(674),se=n(266),oe=n(144),le={CustomerHandling:{section:"Customer Handling",subSections:[{label:"Customer Inquiry",path:"/protected/CustomerHandling/CustomerInquiry"},{label:"Customer Registration",path:"/protected/CustomerHandling/CustomerRegistration"},{label:"In-Hotel Customers",path:"/protected/CustomerHandling/InHotelCustomers"}]},PaymentsAndServices:{section:"Payments And Services",subSections:[{label:"Reserve Room",path:"/protected/PaymentsAndServices/ReserveRoom"},{label:"Services",path:"/protected/PaymentsAndServices/Services"}]},Statistics:{section:"Statistics",subSections:[{label:"Bar",path:"/protected/Statistics/BarStatsDaily"},{label:"Attendance",path:"/protected/Statistics/AttendaceStats"},{label:"Income",path:"/protected/Statistics/IncomeStats"}]},Bar:{section:"Bar",subSections:[{label:"Front Desk",path:"/protected/Bar/FrontDesk"},{label:"Inventory",path:"/protected/Bar/Inventory"}]},Attendance:{section:"Attendance",subSections:[{label:"Attendance",path:"/protected/Attendance"}]},ManageStaff:{section:"Manage Staff",subSections:[{label:"Configure Salary",path:"/protected/ManageStaff/ConfigureSalary"},{label:"Employee Details",path:"/protected/ManageStaff/EmployeeDetails"}]},ManageRooms:{section:"Manage Rooms",subSections:[{label:"Add Room",path:"/protected/ManageRooms/AddRoom"},{label:"View Rooms",path:"/protected/ManageRooms/ViewRooms"}]},ManageEmployees:{section:"Manage Employees",subSections:[{label:"Add Employee",path:"/protected/ManageEmployees/AddEmployee"}]},ManageBranches:{section:"Manage Branches",subSections:[{label:"Add Branch",path:"/protected/ManageBranches/AddBranch"},{label:"View Branches",path:"/protected/ManageBranches/ViewBranches"}]}};var ue=function(e){var t=M().userData,n=Object(R.f)().pathname,a=Object.keys(le).find((function(e){if(new RegExp(e).test(n))return e})),i=e.onDrawerToggle;return Object(H.jsx)(r.a.Fragment,{children:Object(H.jsx)(Z.a,{sx:{backgroundColor:"#081627",borderLeft:"2px solid grey"},position:"sticky",elevation:0,children:Object(H.jsx)(ce.a,{children:Object(H.jsxs)($.a,{container:!0,spacing:1,alignItems:"center",children:[Object(H.jsx)($.a,{sx:{display:{sm:"none",xs:"block"}},item:!0,children:Object(H.jsx)(_.a,{color:"inherit","aria-label":"open drawer",onClick:i,edge:"start",children:Object(H.jsx)(te.a,{})})}),Object(H.jsxs)($.a,{item:!0,xs:!0,container:!0,sx:{height:"9em"},children:[Object(H.jsxs)($.a,{item:!0,container:!0,direction:"row",columnGap:10,sx:{margin:"1rem 2.5rem"},children:[Object(H.jsx)($.a,{item:!0,children:Object(H.jsx)(m.a,{children:t.userName})}),Object(H.jsx)($.a,{item:!0,children:Object(H.jsx)(m.a,{children:t.empStatus})}),Object(H.jsx)($.a,{item:!0,children:Object(H.jsxs)(m.a,{children:["Branch No: ",t.branchId||""]})})]}),Object(H.jsx)($.a,{item:!0,children:Object(H.jsx)(ie.a,{sx:{display:"flex",alignItems:"flex-end"},children:le[a].subSections.map((function(e,t){return Object(H.jsx)(oe.b,{style:function(e){return{display:"block",margin:"1rem ",color:e.isActive?"#009be5":"white"}},to:e.path,children:Object(H.jsx)(re.a,{label:e.label})},a+" ".concat(t))}))})})]}),Object(H.jsx)($.a,{item:!0,direction:"column",children:Object(H.jsxs)($.a,{item:!0,container:!0,direction:"row",columnGap:15,sx:{marginRight:"2.5rem"},children:[Object(H.jsx)($.a,{item:!0,children:Object(H.jsx)(se.a,{title:"Alerts \u2022 No alerts",children:Object(H.jsx)(_.a,{color:"inherit",children:Object(H.jsx)(ae.a,{})})})}),Object(H.jsx)($.a,{item:!0,children:Object(H.jsx)(ie.a,{children:Object(H.jsx)(oe.b,{style:function(e){return{color:e.isActive?"#009be5":"white"}},to:"/",children:Object(H.jsx)(re.a,{label:"Log Out"})},"login")})})]})})]})})})})},de=n(372);function be(e){return Object(H.jsx)(o.a,{component:"main",sx:{flex:1,py:6,px:4},children:Object(H.jsx)(de.a,{sx:{maxWidth:"100%",margin:"auto",overflow:"hidden"},children:e.children})})}function me(){return Object(H.jsxs)(m.a,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(H.jsx)(h.a,{color:"inherit",href:"",children:"Lakderana"})," ",(new Date).getFullYear(),"."]})}var he=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(U.a)(Q.breakpoints.up("sm")),c=M(),s=Object(a.useState)(null),l=Object(b.a)(s,2),m=(l[0],l[1]),h=function(){r(!n)};return Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.userData;case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)}))),[c.userData]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{component:"nav",sx:{width:{sm:256},flexShrink:{sm:0}},children:[i?null:Object(H.jsx)(W,{PaperProps:{style:{width:256}},variant:"temporary",open:n,onClose:h}),Object(H.jsx)(W,{PaperProps:{style:{width:256}},sx:{display:{sm:"block",xs:"none"}}})]}),Object(H.jsxs)(o.a,{sx:{flex:1,display:"flex",flexDirection:"column",bgcolor:"#eaeff1"},children:[Object(H.jsx)(ue,{onDrawerToggle:h}),Object(H.jsx)(be,{children:Object(H.jsx)(R.a,{})}),Object(H.jsx)(o.a,{component:"footer",sx:{p:2},children:Object(H.jsx)(me,{})})]})]})},je=n(677),pe=n(138),fe=n(44),Oe=n(12),xe=n(185),ge=function(e){return Object(H.jsx)(xe.a,{label:e.label,name:e.name,placeholder:e.pHolder,required:e.required,type:e.type,fullWidth:e.fullWidth||!0,value:e.value,onChange:e.onChange,color:e.error?"warning":"secondary",error:e.error,helperText:e.helper,margin:e.margin||"normal",InputLabelProps:{shrink:e.shrink},size:e.size,sx:e.sx,variant:e.variant,focused:e.focused,disabled:e.disabled,defaultValue:e.default,rows:e.rows,multiline:e.multiline})},ve=function(e){var t=e.index,n=e.value,a=(e.navigate,M()),r=Oe.d({username:Oe.f("Enter A Username").min(5,"Username Too Short").max(30,"Username Too Long").required("Enter A Username"),password:Oe.f("Enter A Password").required("Enter A Password")}),i=Object(fe.a)({initialValues:{username:"",password:""},validationSchema:r,onSubmit:function(e){return c(i.values)}}),c=function(e){var t={userName:e.username,password:e.password};a.signIn(t)};return t!==n?null:Object(H.jsxs)("form",{style:{display:"flex",width:"40%",minHeight:"20rem",margin:"10% auto",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},onSubmit:function(e){e.preventDefault(),i.handleSubmit()},children:[Object(H.jsx)(ge,{label:"Username",pHolder:"Username",required:!0,type:"text",error:i.touched.username&&Boolean(i.errors.username),helper:i.touched.username&&i.errors.username,value:i.values.username,onChange:i.handleChange,name:"username"}),Object(H.jsx)(ge,{label:"Password",pHolder:"Password",required:!0,type:"password",error:i.touched.password&&Boolean(i.errors.password),helper:i.touched.password&&i.errors.password,value:i.values.password,onChange:i.handleChange,name:"password"}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,type:"submit",children:"Login"})]})},ye=n(659),we=n(17),Se=n(36),Ne=Object(Se.c)({name:"auth",initialState:{isOwner:!1},reducers:{setIsOwner:function(e,t){e.isOwner=t.payload}}}),Ie=function(e){return function(t){setTimeout((function(){t(Ce(e))}),1e3)}},Ce=Ne.actions.setIsOwner,ke=Ne.reducer;n(300).config();var Te=function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)},Ae=new Date,Be=new Date;Ae.setFullYear(Ae.getFullYear()-70,0,1),Be.setFullYear(Be.getFullYear()-18,0,1);var De=function(e){var t=e.index,n=e.value,r=(e.navigate,Object(a.useState)([])),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)(""),h=Object(b.a)(l,2),f=h[0],O=h[1],x=M(),g=Object(we.b)(),v=Object(we.c)((function(e){return e.auth.isOwner})),y=Oe.d({fName:Oe.f("Enter Your First Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),lName:Oe.f("Enter Your Last Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),uName:Oe.f("Enter Your User Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),dob:Oe.b("Enter Your Date Of Birth").min(Ae,"Too Old").max(Be,"Too Young").required("Date Of Birth Required"),password:Oe.f("Enter A Password").min(7,"Too Short").required("Enter A Password"),confirmPass:Oe.f("Enter A Same Password").oneOf([Oe.e("password"),null],"Passwords Must Match").required("Required Field & Passwords Must Match"),location:Oe.f("Enter Branch Location").required("Required").test("isLocation","Select An Available Value",(function(e){return c.find((function(t){return t===e}))})),branchName:Oe.f("Enter Branch Name").required("Required")}),w=Object(fe.a)({initialValues:{fName:"salman",lName:"thasleem",uName:"",dob:"02/02/1999",password:"salman123",confirmPass:"salman123",branchName:"branch",location:""},validationSchema:y,onSubmit:function(){S(w.values)}});Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(Ie(!0));case 2:v||Te("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyC48Lmn6gCKZwoepb636H7ET6ohZm8rQPw","&libraries=places&callback=initMap"));case 3:case"end":return e.stop()}}),e)}))),[v]);var S=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c,s,o,l,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fName,a=t.lName,r=t.dob,i=t.uName,c=t.password,s=t.confirmPass,o=t.branchName,l=t.location,e.next=3,O(w.values.location);case 3:d={firstName:n,lastName:a,dob:r,branchName:o,location:l,status:"Owner"},b={userName:i,password:c,confirmPassword:s},x.signUpOwner(d,b);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(v),t!==n?null:!0===v?Object(H.jsx)(o.a,{sx:{display:"flex",margin:"10% auto",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},children:Object(H.jsx)(m.a,{component:"h2",children:"Owner Already Registered"})}):Object(H.jsxs)("form",{sx:{display:"flex",margin:"10% auto",flexDirection:"column",alignItems:"center",justifyContent:"center"},onSubmit:function(e){e.preventDefault(),w.handleSubmit()},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",margin:"10% auto",flexDirection:"row",alignItems:"center",justifyContent:"space-evenly"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",width:1/3,alignItems:"center"},children:[Object(H.jsxs)(o.a,{sx:{minHeight:"15rem"},children:[Object(H.jsx)(ge,{label:"First Name",pHolder:"Name",required:!0,type:"text",error:w.touched.fName&&Boolean(w.errors.fName),helper:w.touched.fName&&w.errors.fName,value:w.values.fName,onChange:w.handleChange,margin:"dense",name:"fName"}),Object(H.jsx)(ge,{label:"Last Name",pHolder:"Name",required:!0,type:"text",error:w.touched.lName&&Boolean(w.errors.lName),helper:w.touched.lName&&w.errors.lName,value:w.values.lName,onChange:w.handleChange,margin:"dense",name:"lName"}),Object(H.jsx)(ge,{label:"DOB",pHolder:"DOB",required:!0,type:"date",error:w.touched.dob&&Boolean(w.errors.dob),helper:w.touched.dob&&w.errors.dob,shrink:!0,value:w.values.dob,onChange:w.handleChange,margin:"dense",name:"dob"})]}),Object(H.jsxs)(o.a,{sx:{minHeight:"10rem"},children:[Object(H.jsx)(ge,{label:"User Name",pHolder:"Name",required:!0,type:"text",error:w.touched.uName&&Boolean(w.errors.uName),helper:w.touched.uName&&w.errors.uName,value:w.values.uName,onChange:w.handleChange,margin:"dense",name:"uName"}),Object(H.jsx)(ge,{label:"Password",pHolder:"Password",required:!0,type:"password",error:w.touched.password&&Boolean(w.errors.password),helper:w.touched.password&&w.errors.password,value:w.values.password,onChange:w.handleChange,margin:"dense",name:"password"}),Object(H.jsx)(ge,{label:"Confirm Password",pHolder:"Confirm Password",required:!0,type:"password",error:w.touched.confirmPass&&Boolean(w.errors.confirmPass),helper:w.touched.confirmPass&&w.errors.confirmPass,value:w.values.confirmPass,onChange:w.handleChange,margin:"dense",name:"confirmPass"})]})]}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0}),Object(H.jsxs)(o.a,{sx:{width:1/3},children:[Object(H.jsx)(ge,{label:"Branch Name",pHolder:"Lakderana",required:!0,type:"text",error:w.touched.branchName&&Boolean(w.errors.branchName),helper:w.touched.branchName&&w.errors.branchName,value:w.values.branchName,onChange:w.handleChange,name:"branchName"}),Object(H.jsxs)(o.a,{children:[Object(H.jsx)(ye.a,{freeSolo:!0,disableClearable:!0,options:c,renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Location",name:"location",InputProps:Object(j.a)(Object(j.a)({},e.InputProps),{},{type:"search"})}))},onInputChange:function(e,t){!function(e){(new window.google.maps.places.AutocompleteService).getPlacePredictions(Object(j.a)({input:e},{types:["(cities)"],componentRestrictions:{country:["LK"]}}),(function(e,t){if(t==window.google.maps.places.PlacesServiceStatus.OK&&e){var n=e.map((function(e){return e.description}));s(n)}}))}(t),O(t),w.setFieldValue("location","")},onChange:function(e,t){w.setFieldValue("location",t),O(t)},inputValue:f,loading:!c,value:w.values.location,label:"Location",name:"location"}),w.touched.location&&Boolean(w.errors.location)&&Object(H.jsx)(m.a,{color:"red",children:w.touched.location&&w.errors.location})]})]})]}),Object(H.jsx)(o.a,{sx:{display:"flex",justifyContent:"center"},children:Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,type:"submit",sx:{width:1/3},children:"Register As Owner"})})]})},Ee=function(){var e=Object(R.g)(),t=Object(we.c)((function(e){return e.auth.isOwner})),n=Object(a.useState)(t),r=Object(b.a)(n,2),i=r[0],c=r[1];Object(a.useEffect)((function(){c(t),console.log(t)}),[t]);var s=Object(a.useState)("signIn"),l=Object(b.a)(s,2),u=l[0],d=l[1];return Object(H.jsxs)(je.a,{sx:{bgcolor:"primary.dark",minHeight:"100vh",minWidth:"100vw"},children:[Object(H.jsxs)(o.a,{sx:{minWidth:"100vw",transform:"translateX(-0.8%)",display:"flex",justifyContent:"center",backgroundColor:"primary.light",color:"primary.dark",height:"10rem",alignItems:"center"},children:[Object(H.jsx)("img",{src:"/hotel.png",style:{width:"20rem",height:"10rem"}}),Object(H.jsx)(m.a,{component:"h1",variant:"h1",children:"Lakderana Integrated System"})]}),Object(H.jsx)($.a,{container:!0,sx:{minHeight:"80vh",justifyContent:"center",alignItems:"center"},children:Object(H.jsxs)(de.a,{elevation:24,square:!0,sx:{bgcolor:"primary.light",minHeight:"signIn"===u?"25rem":"signIn"===u&&i?"60rem":"25rem",width:"signIn"===u?"40rem":"signIn"===u&&i?"80rem":"40rem"},children:[Object(H.jsxs)(ie.a,{value:u,onChange:function(e,t){d(t)},textColor:"inherit",indicatorColor:"secondary","aria-label":"auth tabs",sx:{marginLeft:0},variant:"fullWidth",children:[Object(H.jsx)(re.a,{value:"signIn",label:"Sign In",sx:{margin:"auto"}}),Object(H.jsx)(re.a,{value:"signUp",label:"Register",sx:{margin:"auto"}})]}),Object(H.jsx)(ve,{value:u,index:"signIn",navigate:e}),Object(H.jsx)(De,{value:u,index:"signUp",navigate:e})]})})]})};function qe(e){e.children;return Object(H.jsxs)(o.a,{sx:{display:"flex",minHeight:"100vh"},children:[Object(H.jsx)(s.a,{}),Object(H.jsx)(R.a,{})]})}var Fe=Object(Se.c)({name:"inquiry",initialState:{modalOpen:!1,reload:!0,statusModal:!1},reducers:{setModalOpen:function(e,t){e.modalOpen=t.payload},setReload:function(e,t){e.reload=t.payload},setStatusModal:function(e,t){e.statusModal=t.payload}}}),Pe=Fe.actions,Re=Pe.setModalOpen,Ve=Pe.setReload,Le=Pe.setStatusModal,Me=Fe.reducer,He=Object(Se.b)("cusAutoFill/setcValues",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{cName:"",cId:"",mobileNo:"",identityId:"",branchId:""},e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),Ye=Object(Se.b)("cusAutoFill/setbranchId",function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ze=Object(Se.c)({name:"cusAutoFill",initialState:{cValues:{cName:"",cId:"",mobileNo:"",identityId:"",branchId:""},branchId:""},extraReducers:function(e){return e.addCase(He.fulfilled,(function(e,t){e.cValues=t.payload})).addCase(Ye.fulfilled,(function(e,t){e.branchId=t.payload||""}))}}).reducer,Xe=Object(Se.c)({name:"branch",initialState:{branchId:"",branchName:""},reducers:{setBranch:function(e,t){e.branchId=t.payload},setBranchName:function(e,t){e.branchName=t.payload}}}),We=Xe.actions,Ue=We.setBranch,Ke=We.setBranchName,Je=Xe.reducer,Ge=Object(Se.b)("searchEmployee/setEmpValues",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{empFName:"",empLName:"",email:"",status:"",dob:"",branchId:""},e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),Qe=Object(Se.b)("searchEmployee/setbranchId",function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ze=Object(Se.c)({name:"searchEmployee",initialState:{empValues:{empFName:"",empLName:"",email:"",status:"",branchId:""},branchId:""},extraReducers:function(e){return e.addCase(Ge.fulfilled,(function(e,t){e.empValues=t.payload})).addCase(Qe.fulfilled,(function(e,t){e.branchId=t.payload||""}))}}).reducer,$e=Object(Se.b)("beverage/setName",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),_e=Object(Se.b)("beverage/setType",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),et=Object(Se.b)("beverage/setQuantity",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),tt=Object(Se.b)("beverage/setPrice",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),nt=Object(Se.b)("beverage/setCost",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),at=Object(Se.b)("beverage/setStock",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),rt=Object(Se.b)("beverage/clearFields",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{name:"",type:"",quantity:"",price:"",cost:"",stock:""},e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),it=Object(Se.c)({name:"beverage",initialState:{name:"",type:"",quantity:"",price:"",cost:"",stock:""},extraReducers:function(e){return e.addCase($e.fulfilled,(function(e,t){e.name=t.payload})).addCase(_e.fulfilled,(function(e,t){e.type=t.payload})).addCase(et.fulfilled,(function(e,t){e.quantity=t.payload})).addCase(tt.fulfilled,(function(e,t){e.price=t.payload})).addCase(nt.fulfilled,(function(e,t){e.cost=t.payload})).addCase(at.fulfilled,(function(e,t){e.stock=t.payload})).addCase(rt.fulfilled,(function(e,t){t.payload}))}}).reducer,ct=Object(Se.b)("barItem/setName",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),st=Object(Se.b)("barItem/setType",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),ot=Object(Se.b)("barItem/setQuantity",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),lt=Object(Se.b)("barItem/setPrice",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),ut=Object(Se.b)("beverage/setCost",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),dt=Object(Se.c)({name:"barItem",initialState:{name:"",type:"",quantity:"",price:"",cost:"",modalOpen:!1},reducers:{setModalOpen:function(e,t){e.modalOpen=t.payload}},extraReducers:function(e){return e.addCase(ct.fulfilled,(function(e,t){e.name=t.payload})).addCase(st.fulfilled,(function(e,t){e.type=t.payload})).addCase(ot.fulfilled,(function(e,t){e.quantity=t.payload})).addCase(lt.fulfilled,(function(e,t){e.price=t.payload})).addCase(ut.fulfilled,(function(e,t){e.cost=t.payload}))}}),bt=dt.actions.setModalOpen,mt=dt.reducer,ht=Object(Se.b)("barItem/setParams",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{stock:"",branchId:"",itemId:"",name:"",type:"",quantity:""},e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),jt=Object(Se.c)({name:"restockBarItem",initialState:{itemParams:{stock:"",branchId:"",itemId:"",name:"",type:"",quantity:""},restockModalOpen:!1},reducers:{setRestockModalOpen:function(e,t){e.restockModalOpen=t.payload}},extraReducers:function(e){return e.addCase(ht.fulfilled,(function(e,t){e.itemParams=t.payload}))}}),pt=jt.actions.setRestockModalOpen,ft=jt.reducer,Ot=Object(Se.b)("glocation/setQuery",Object(d.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))),xt=Object(Se.c)({name:"glocation",initialState:{query:""},extraReducers:function(e){return e.addCase(Ot.fulfilled,(function(e,t){e.query=t.payload}))}}).reducer,gt=Object(Se.a)({reducer:{auth:ke,inquiry:Me,cusAutoFill:ze,branch:Je,searchEmployee:Ze,beverage:it,barItem:mt,restockBarItem:ft,gLocation:xt}}),vt=n(670),yt=n(343),wt=n.n(yt).a.create({baseURL:"https://lakderana.as.r.appspot.com/api"}),St=function(e){var t=e.children,n=Object(R.g)(),a=window.localStorage.getItem("@user")||null,r=a?JSON.parse(a):null,i=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.post("/auth/login/",t);case 3:if(a=e.sent,1!==a.data.data.status){e.next=11;break}return r=JSON.stringify(a.data.data),console.log(r),e.next=10,window.localStorage.setItem("@user",r);case 10:n("/protected/CustomerHandling");case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.post("/auth/new/",t);case 3:a=e.sent,console.log(a),n("/protected/CustomerHandling"),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var r,i,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.post("/auth/new/",t);case 3:return r=e.sent,i=r.data.data.id,a.employeeId=i,e.next=8,wt.post("/auth/newCreds/",a);case 8:return c=e.sent,s=c.data.data,o=JSON.stringify(s),console.log(o),e.next=14,window.localStorage.setItem("@user",o);case 14:console.log(s),n("/protected/CustomerHandling"),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/auth/owner/");case 3:return t=e.sent,e.next=6,t.data.data.bool;case 6:return e.abrupt("return",e.sent);case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),l={signUp:c,getOwner:o,signUpOwner:s,signIn:i,userData:r};return Object(H.jsx)(L.Provider,{value:l,children:t})},Nt=function(){return Object(H.jsx)(R.a,{})},It=function(){return Object(H.jsx)(R.a,{})},Ct=function(){return Object(H.jsx)(R.a,{})},kt=function(){return Object(H.jsx)(R.a,{})},Tt=function(){return Object(H.jsx)(R.a,{})},At=function(){return Object(H.jsx)(R.a,{})},Bt=function(){return Object(H.jsx)(R.a,{})},Dt=function(){return Object(H.jsx)(R.a,{})},Et=function(){return Object(H.jsx)(R.a,{})},qt=n(14),Ft=n(653),Pt=n(153),Rt=n(154),Vt=n(183),Lt=n(354),Mt=n(652),Ht=function(e){var t=e.children,n=e.components,a=e.title,r=e.style;e.values;return Object(H.jsxs)(o.a,{sx:Object(j.a)({width:3/7,height:"80rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"1px  solid lightgrey",margin:"0 2rem 10rem"},r),children:[Object(H.jsx)(m.a,{component:"h2",variant:"h4",children:a}),Object(H.jsx)(Mt.a,{width:"90%",height:"75%",children:t}),n]})},Yt=function(e,t,n){var a=new Date(e),r=new Date(t);return a instanceof Date&&r instanceof Date?r<a?(n("Invalid Range - Showing All Data"),!1):r>=a?(n("Range Valid - Showing Filtered Data"),!0):(n("Invalid Range- Showing All Data"),!1):(n("Invalid Date"),!1)},zt=n(48),Xt=n(71),Wt=n.n(Xt),Ut=function(){var e=Object(we.c)((function(e){return e.branch.branchId})),t=Object(a.useState)([]),n=Object(b.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),s=Object(b.a)(c,2),l=s[0],h=s[1],j=Object(a.useState)(""),p=Object(b.a)(j,2),f=p[0],O=p[1],x=Object(a.useState)(""),g=Object(b.a)(x,2),v=g[0],y=g[1],w=Object(a.useState)(""),S=Object(b.a)(w,2),N=S[0],I=S[1],C=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"/customer/all/",t.prev=1,t.next=4,wt.get("/customer/all/",{params:{branchId:e}});case 4:return n=t.sent,t.next=7,n.data;case 7:1===(a=t.sent).status?(r=a.data.rows,i(r)):i([]),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(1),c=t.t0.response.data,c.message,i([]);case 16:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r){var n=r.map((function(e){return new Date(e.dateRegistered).toISOString().split("T")[0]})),a=Object(qt.a)(new Set(n));if(e&&t&&Yt(e,t,I)){var i=new Date(e),c=new Date(t),s=a.filter((function(e){return i<=new Date(e)&&c>=new Date(e)})),o=s.map((function(e){return{date:e,number:n.filter((function(t){return t===e})).length}}));h(o),setTimeout((function(){return I("")}),2e3)}else{var l=a.map((function(e){return{date:e,number:n.filter((function(t){return t===e})).length}}));h(l),setTimeout((function(){return I("")}),2e3)}}else h([]),setTimeout((function(){return I("")}),2e3)};return Object(a.useEffect)((function(){f&&v?k(f,v):k()}),[f,v]),Object(a.useEffect)((function(){k()}),[r]),Object(a.useEffect)((function(){C()}),[e]),Object(H.jsx)(Ht,{title:"Daily Customer Registrations",style:{padding:"1rem"},components:Object(H.jsxs)(o.a,{children:[Object(H.jsxs)(o.a,{children:[Object(H.jsx)(xe.a,{type:"date",label:"From",onChange:function(e,t){""===e.target.value&&(y(e.target.value),O(e.target.value)),O(e.target.value)},value:f,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),Object(H.jsx)(xe.a,{type:"date",onChange:function(e,t){return y(e.target.value)},label:"To",value:v,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),l&&Object(H.jsx)(_.a,{children:Object(H.jsxs)(zt.CSVLink,{data:l,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})]}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",sx:{margin:"1rem",minHeight:"2rem"},children:N})]}),children:Object(H.jsxs)(Ft.a,{width:500,height:300,data:l,margin:{top:5,right:30,left:20,bottom:5},children:[Object(H.jsx)(Pt.a,{dataKey:"date"}),Object(H.jsx)(Rt.a,{}),Object(H.jsx)(Vt.a,{}),Object(H.jsx)(Lt.a,{dataKey:"number",fill:"#8884d8"})]})})},Kt=n(665),Jt=n(356),Gt=n(152),Qt=n(179),Zt=["#00C49F","#FFBB28","#FF8042"],$t=Math.PI/180,_t=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=(e.startAngle,e.endAngle,e.innerRadius),i=e.outerRadius,c=e.percent,s=(e.index,r+.5*(i-r)),o=t+s*Math.cos(-a*$t),l=n+s*Math.sin(-a*$t);return Object(H.jsx)("text",{x:o,y:l,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central",style:{fontSize:40},children:"".concat((100*c).toFixed(0),"%")})},en=function(){var e=Object(we.c)((function(e){return e.branch.branchId})),t=Object(a.useState)([]),n=Object(b.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),s=Object(b.a)(c,2),l=s[0],h=s[1],j=Object(a.useState)([]),p=Object(b.a)(j,2),f=(p[0],p[1],Object(a.useState)("")),O=Object(b.a)(f,2),x=O[0],g=O[1],v=function(){var t=Object(d.a)(u.a.mark((function t(){var n,a,r,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,wt.get("/customer/inquiry/",{params:{branchId:e}});case 3:n=t.sent,a=n.data.data.rows,r=n.data.message,g(r),i(a),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),c=t.t0.response.data,s=c.message,g(s),i([]);case 16:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){!function(){if(r){var e=r.map((function(e){return e.status})),t=Object(qt.a)(new Set(e)).map((function(t){return{name:t,value:e.filter((function(e){return e===t})).length}}));h(t)}else h([{name:"Open",value:0},{name:"Close",value:0},{name:"Processing",value:0}])}()}),[r]),Object(a.useEffect)((function(){v()}),[e]),Object(H.jsx)(Ht,{title:"Customer Inquiry Statistitcs",style:{padding:"1rem"},components:Object(H.jsxs)(o.a,{children:[Object(H.jsx)(o.a,{children:l&&Object(H.jsx)(_.a,{sx:{transform:"translateX(50%)"},children:Object(H.jsxs)(zt.CSVLink,{data:l,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",sx:{margin:"1rem",minHeight:"2rem"},children:x})]}),children:Object(H.jsxs)(Kt.a,{width:400,height:400,children:[Object(H.jsx)(Jt.a,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:_t,outerRadius:400,fill:"#8884d8",dataKey:"value",children:l.map((function(e,t){return Object(H.jsx)(Gt.a,{fill:Zt[t%Zt.length]},"cell-".concat(t))}))}),Object(H.jsx)(Vt.a,{}),Object(H.jsx)(Qt.a,{})]})})},tn=function(e){var t,n,r=e.errors,i=e.helpers,c=e.onChange,s=e.showBranchName,l=e.sx,h=e.container,p=Object(we.b)(),f=Object(a.useState)(!1),O=Object(b.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)([]),y=Object(b.a)(v,2),w=y[0],S=y[1],N=Object(a.useState)(!1),I=Object(b.a)(N,2),C=(I[0],I[1]),k=Object(a.useState)({id:"",branchName:""}),T=Object(b.a)(k,2),A=T[0],B=T[1],D=Object(we.c)((function(e){return e.branch.branchId})),E="boolean"!==typeof s||s;return Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,e.next=8,n.empStatus;case 8:return a=e.sent,e.next=11,n.branchId;case 11:if(r=e.sent,"Owner"!==a){e.next=27;break}return g(!0),e.next=16,wt.get("/branch/getAll");case 16:return i=e.sent,e.next=19,i.data.data;case 19:return c=e.sent,e.next=22,c.map((function(e){return{id:e.id.toString(),name:e.branchName.toString()}}));case 22:s=e.sent,S(s),p(Ue("")),e.next=28;break;case 27:p(Ue(r));case 28:case"end":return e.stop()}}),e)}))),[]),Object(H.jsxs)(o.a,{sx:h,children:[x&&Object(H.jsx)(ye.a,{disablePortal:!0,options:w.map((function(e){return e.id.toString()})),renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Branch"}))},name:"branch",onChange:function(e,t){if(t){var n=Number(t);p(Ue(n));var a=w.filter((function(e){return e.id===t}))[0].name;B({id:t,branchName:a}),p(Ke(a)),C(!0)}},value:A.id,sx:l,onInputChange:function(e,t){p(Ue(t)),p(Ke("")),B({id:"",branchName:""})}}),E&&Object(H.jsx)(ge,(t={label:"Branch Name",shrink:!0,required:!0,type:"text"},Object(K.a)(t,"shrink",!0),Object(K.a)(t,"disabled",!0),Object(K.a)(t,"default",A.branchName),Object(K.a)(t,"value",A.branchName),Object(K.a)(t,"sx",l),t)),r&&Object(H.jsx)(m.a,{sx:{color:"red"},children:i}),!x&&Object(H.jsx)(ge,(n={label:"Branch Id",shrink:!0,required:!0,type:"number",value:D},Object(K.a)(n,"shrink",!0),Object(K.a)(n,"name","branch"),Object(K.a)(n,"disabled",!0),Object(K.a)(n,"error",r),Object(K.a)(n,"helperText",i),Object(K.a)(n,"onChange",c),Object(K.a)(n,"value",D),Object(K.a)(n,"sx",l),n))]})},nn=function(){return Object(H.jsxs)(o.a,{children:[Object(H.jsx)(tn,{sx:{margin:"1rem"},container:{display:"flex"}}),Object(H.jsxs)(o.a,{sx:{display:"flex",margin:"1rem",height:"80vh",justifyContent:"space-evenly"},children:[Object(H.jsx)(Ut,{}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0}),Object(H.jsx)(en,{})]})]})},an=function(e){var t=e.data,n=Object(we.c)((function(e){return e.branch.branchName})),r=Object(a.useState)(""),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)(""),u=Object(b.a)(l,2),d=u[0],h=u[1],j=Object(a.useState)(""),p=Object(b.a)(j,2),f=p[0],O=p[1],x=Object(a.useState)([]),g=Object(b.a)(x,2),v=g[0],y=g[1],w=Object(a.useState)([]),S=Object(b.a)(w,2),N=S[0],I=S[1],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(v){var n=Object(qt.a)(new Set(v.map((function(e){return e.date}))));if(e&&t&&Yt(e,t,O)){var a=new Date(e),r=new Date(t),i=n.filter((function(e){return a<=new Date(e)&&r>=new Date(e)})),c=i.map((function(e){return v.find((function(t){return t.date===e}))}));I(c),setTimeout((function(){return O("")}),2e3)}else I(v),setTimeout((function(){return O("")}),2e3)}};return Object(a.useEffect)((function(){c&&d?C(c,d):C()}),[c,d,v]),Object(a.useEffect)((function(){y(t)}),[t]),Object(H.jsx)(Ht,{title:"Daily Total Reservations"+"".concat(n?" - ".concat(n):""),style:{padding:"1rem"},components:Object(H.jsxs)(o.a,{children:[Object(H.jsxs)(o.a,{children:[Object(H.jsx)(xe.a,{type:"date",label:"From",onChange:function(e,t){""===e.target.value&&(h(e.target.value),s(e.target.value)),s(e.target.value)},value:c,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),Object(H.jsx)(xe.a,{type:"date",onChange:function(e,t){return h(e.target.value)},label:"To",value:d,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),N&&Object(H.jsx)(_.a,{children:Object(H.jsxs)(zt.CSVLink,{data:N,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})]}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",sx:{margin:"1rem",minHeight:"2rem"},children:f})]}),children:Object(H.jsxs)(Ft.a,{width:500,height:300,data:N,margin:{top:5,right:30,left:20,bottom:5},children:[Object(H.jsx)(Pt.a,{dataKey:"date"}),Object(H.jsx)(Rt.a,{}),Object(H.jsx)(Vt.a,{}),Object(H.jsx)(Lt.a,{dataKey:"totalNumberOfReservations",fill:"#8884d8"})]})})},rn=n(657),cn=n(360),sn=n(251),on=function(e){var t=e.data,n=Object(we.c)((function(e){return e.branch.branchName})),r=Object(a.useState)([]),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)([]),u=Object(b.a)(l,2),d=u[0],h=u[1],p=Object(a.useState)(""),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)(""),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(""),N=Object(b.a)(S,2),I=N[0],C=N[1],k=Object(a.useState)([]),T=Object(b.a)(k,2),A=T[0],B=T[1];Object(a.useEffect)((function(){var e=t?t.map((function(e){return Object(j.a)({date:e.date},e.reservationsByType)})):{date:"",other:""},n=t?Object(qt.a)(new Set(t.map((function(e){return Object.keys(e.reservationsByType)})).flat())):[];s(e),h(n)}),[t]);var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(c){var a=Object(qt.a)(new Set(c.map((function(e){return e.date}))));if(e&&n&&Yt(e,n,C)){var r=new Date(e),i=new Date(n),s=a.filter((function(e){return r<=new Date(e)&&i>=new Date(e)})),o=s.map((function(e){return c.find((function(t){return t.date===e}))})),l=t?Object(qt.a)(new Set(t.filter((function(e){return r<=new Date(e.date)&&i>=new Date(e.date)})).map((function(e){return Object.keys(e.reservationsByType)})).flat())):[];B(o),h(l),setTimeout((function(){return C("")}),2e3)}else{B(c);var u=t?Object(qt.a)(new Set(t.map((function(e){return Object.keys(e.reservationsByType)})).flat())):[];h(u),setTimeout((function(){return C("")}),2e3)}}};return Object(a.useEffect)((function(){O&&y?D(O,y):D()}),[O,y,c]),Object(H.jsx)(Ht,{title:"Daily Reservations By Type Of Room "+"".concat(n?" - ".concat(n):""),style:{padding:"1rem"},components:Object(H.jsxs)(o.a,{children:[Object(H.jsxs)(o.a,{children:[Object(H.jsx)(xe.a,{type:"date",label:"From",onChange:function(e,t){""===e.target.value&&(w(e.target.value),x(e.target.value)),x(e.target.value)},value:O,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),Object(H.jsx)(xe.a,{type:"date",onChange:function(e,t){return w(e.target.value)},label:"To",value:y,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),A&&Object(H.jsx)(_.a,{children:Object(H.jsxs)(zt.CSVLink,{data:A,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})]}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",sx:{margin:"1rem",minHeight:"2rem"},children:I})]}),children:Object(H.jsxs)(rn.a,{width:730,height:250,data:A,margin:{top:5,right:30,left:20,bottom:5},children:[Object(H.jsx)(Pt.a,{dataKey:"date"}),Object(H.jsx)(Rt.a,{}),Object(H.jsx)(Vt.a,{}),Object(H.jsx)(Qt.a,{height:5,margin:{bottom:0},align:"right",verticalAlign:"bottom"}),d.map((function(e,t){return Object(H.jsx)(cn.a,{type:"monotone",dataKey:e,stroke:sn({luminosity:"dark",format:"rgb",alpha:1})})}))]})})},ln=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(b.a)(i,2),s=(c[0],c[1]),l=Object(we.c)((function(e){return e.branch.branchId})),m=Object(a.useState)([]),h=Object(b.a)(m,2),j=h[0],f=h[1],O=Object(a.useState)([]),x=Object(b.a)(O,2),g=x[0],v=x[1],y=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,i,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/stats/getReservation/",{params:{branchId:l}});case 3:return t=e.sent,e.next=6,t.data;case 6:return n=e.sent,e.next=9,n.message;case 9:a=e.sent,s(a),i=n.data.rows,r(i),setTimeout((function(){return s("")}),2e3),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),(c=e.t0.response.data)&&(o=c.message,s(o),r([]),setTimeout((function(){return s("")}),2e3));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y()}),[l]),Object(a.useEffect)((function(){n&&function(){if(l&&n.length>0){var e=n[0].data,t=e.map((function(e,t){return{date:e.date,totalNumberOfReservations:e.totalNumberOfReservations}})),a=e.map((function(e,t){return{date:e.date,reservationsByType:e.reservationsByType}}));f(t),v(a)}else if(n.length>0){var r=n.map((function(e){return e.data})).flat(),i=Object(qt.a)(new Set(r.map((function(e){return e.date})))),c=i.map((function(e,t){return{date:e,totalNumberOfReservations:r.filter((function(t){return t.date===e})).map((function(e){return e.totalNumberOfReservations})).reduce((function(e,t){return e+t}))}})),s=i.map((function(e,t){return{date:e,reservationsByType:r.filter((function(t){return t.date===e})).map((function(e,t,n){return e.reservationsByType})).reduce((function(e,t,n,a){return Object.keys(t).forEach((function(n){e[n]=e[n]?e[n]+t[n]:t[n]})),e}),{deluxe:0,normal:0})}}));f(c),v(s)}}()}),[n]),Object(H.jsxs)(o.a,{children:[Object(H.jsx)(tn,{sx:{margin:"1rem"},container:{display:"flex"}}),Object(H.jsxs)(o.a,{sx:{display:"flex",margin:"1rem",height:"80vh",justifyContent:"space-evenly"},children:[Object(H.jsx)(an,{data:j}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0}),Object(H.jsx)(on,{data:g})]})]})},un=function(e){var t=e.data,n=Object(we.c)((function(e){return e.branch.branchName})),r=Object(a.useState)(""),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)(""),u=Object(b.a)(l,2),d=u[0],h=u[1],j=Object(a.useState)(""),p=Object(b.a)(j,2),f=p[0],O=p[1],x=Object(a.useState)([]),g=Object(b.a)(x,2),v=g[0],y=g[1],w=Object(a.useState)([]),S=Object(b.a)(w,2),N=S[0],I=S[1],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(v){var n=Object(qt.a)(new Set(v.map((function(e){return e.date}))));if(e&&t&&Yt(e,t,O)){var a=new Date(e),r=new Date(t),i=n.filter((function(e){return a<=new Date(e)&&r>=new Date(e)})),c=i.map((function(e){return v.find((function(t){return t.date===e}))}));I(c),setTimeout((function(){return O("")}),2e3)}else I(v),setTimeout((function(){return O("")}),2e3)}};return Object(a.useEffect)((function(){c&&d?C(c,d):C()}),[c,d,v]),Object(a.useEffect)((function(){y(t)}),[t]),console.log(t),Object(H.jsx)(Ht,{title:"Daily Bar Sales"+"".concat(n?" - ".concat(n):""),style:{padding:"1rem"},components:Object(H.jsxs)(o.a,{children:[Object(H.jsxs)(o.a,{children:[Object(H.jsx)(xe.a,{type:"date",label:"From",onChange:function(e,t){""===e.target.value&&(h(e.target.value),s(e.target.value)),s(e.target.value)},value:c,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),Object(H.jsx)(xe.a,{type:"date",onChange:function(e,t){return h(e.target.value)},label:"To",value:d,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),N&&Object(H.jsx)(_.a,{children:Object(H.jsxs)(zt.CSVLink,{data:N,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})]}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",sx:{margin:"1rem",minHeight:"2rem"},children:f})]}),children:Object(H.jsxs)(Ft.a,{width:500,height:300,data:N,margin:{top:5,right:30,left:20,bottom:5},children:[Object(H.jsx)(Pt.a,{dataKey:"date"}),Object(H.jsx)(Rt.a,{}),Object(H.jsx)(Vt.a,{}),Object(H.jsx)(Lt.a,{dataKey:"totalSales",fill:"#8884d8"})]})})},dn=n(251),bn=function(e){var t=e.data,n=Object(we.c)((function(e){return e.branch.branchName})),r=Object(a.useState)([]),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)([]),u=Object(b.a)(l,2),d=u[0],h=u[1],p=Object(a.useState)([]),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(""),N=Object(b.a)(S,2),I=N[0],C=N[1],k=Object(a.useState)(""),T=Object(b.a)(k,2),A=T[0],B=T[1],D=Object(a.useState)(""),E=Object(b.a)(D,2),q=E[0],F=E[1];Object(a.useEffect)((function(){var e=t?t.map((function(e){return Object(j.a)({date:e.date},e.salesByType)})):{date:"",other:""},n=t?Object(qt.a)(new Set(t.map((function(e){return Object.keys(e.salesByType)})).flat())):[];s(e),w(e),h(n),x(n)}),[t]);var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(c){var a=Object(qt.a)(new Set(c.map((function(e){return e.date}))));if(e&&n&&Yt(e,n,F)){var r=new Date(e),i=new Date(n),s=a.filter((function(e){return r<=new Date(e)&&i>=new Date(e)})),o=s.map((function(e){return c.find((function(t){return t.date===e}))})),l=t?Object(qt.a)(new Set(t.filter((function(e){return r<=new Date(e.date)&&i>=new Date(e.date)})).map((function(e){return Object.keys(e.salesByType)})).flat())):[];console.log(l),w(o),x(l),setTimeout((function(){return F("")}),2e3)}else w(c),x(d),setTimeout((function(){return F("")}),2e3)}};return Object(a.useEffect)((function(){I&&A?P(I,A):P()}),[I,A,c]),Object(H.jsx)(Ht,{title:"Daily Sales By Beverage Type "+"".concat(n?" - ".concat(n):""),style:{padding:"1rem"},components:Object(H.jsxs)(o.a,{children:[Object(H.jsxs)(o.a,{children:[Object(H.jsx)(xe.a,{type:"date",label:"From",onChange:function(e,t){""===e.target.value&&(B(e.target.value),C(e.target.value)),C(e.target.value)},value:I,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),Object(H.jsx)(xe.a,{type:"date",onChange:function(e,t){return B(e.target.value)},label:"To",value:A,InputLabelProps:{shrink:!0},sx:{margin:"1rem"}}),y&&Object(H.jsx)(_.a,{children:Object(H.jsxs)(zt.CSVLink,{data:y,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})]}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",sx:{margin:"1rem",minHeight:"2rem"},children:q})]}),children:Object(H.jsxs)(rn.a,{width:730,height:250,data:y,margin:{top:5,right:30,left:20,bottom:5},children:[Object(H.jsx)(Qt.a,{height:5,margin:{bottom:0},align:"right",verticalAlign:"bottom"}),Object(H.jsx)(Pt.a,{dataKey:"date"}),Object(H.jsx)(Rt.a,{}),Object(H.jsx)(Vt.a,{}),O.map((function(e,t){return Object(H.jsx)(cn.a,{type:"monotone",dataKey:e,stroke:dn({luminosity:"dark",format:"rgb",alpha:1})})}))]})})},mn=n(658),hn=n(361),jn=n(251),pn=function(e){var t=e.data,n=Object(we.c)((function(e){return e.branch.branchName})),r=Object(a.useState)(""),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)([]),u=Object(b.a)(l,2),d=u[0],m=u[1];Object(a.useEffect)((function(){!function(e){if(e){var n=t.filter((function(t){return t.date===e})).map((function(e){return e.salesByDrink})).map((function(e){return Object.keys(e).forEach((function(t){e[t]=e[t].map((function(e){return Object(j.a)(Object(j.a)({},e),{},{type:t})}))})),Object.values(e)})).flat(2).map((function(e){return{x:Number(e.quantity.replace("L","").trim()),y:e.sales,z:e.drink,p:e.type}})),a=n.map((function(e){return e.p})).map((function(e){return{type:e,items:n.filter((function(t){return t.p===e}))}})).reduce((function(e,t){var n=e.findIndex((function(e){return e.type===t.type}));return n>=0?(e[n].items=[].concat(Object(qt.a)(e[n].items),Object(qt.a)(t.items)),e):[].concat(Object(qt.a)(e),[t])}),[]);console.log(a),m(a)}}(c)}),[c]),Object(a.useEffect)((function(){var e=(new Date).toISOString().split("T")[0].trim();s(e)}),[]);var h=function(e){var t=e.active,n=e.payload;e.label;return t&&n&&n.length?Object(H.jsxs)("div",{className:"custom-tooltip",children:[Object(H.jsx)("p",{children:n[0].payload.z}),Object(H.jsx)("p",{children:"".concat(n[1].name," : ").concat(n[1].value)}),Object(H.jsx)("p",{children:"".concat(n[0].name," : ").concat(n[0].value,"L")})]}):null};return Object(H.jsx)(Ht,{title:"Daily Sales By Beverage "+"".concat(n?" - ".concat(n):""),components:Object(H.jsxs)(o.a,{sx:{display:"flex",alignContent:"center",justifyContent:"center"},children:[Object(H.jsx)(xe.a,{type:"date",onChange:function(e,t){return s(e.target.value)},value:c,sx:{margin:"1rem"}}),d.length>0&&Object(H.jsx)(_.a,{children:Object(H.jsxs)(zt.CSVLink,{data:d,children:[Object(H.jsx)(Wt.a,{fontSize:"large",sx:{margin:"1rem",fontSize:40}})," "]})})]}),values:c,children:Object(H.jsxs)(mn.a,{width:500,height:500,margin:{top:20,right:20,bottom:20,left:20},children:[Object(H.jsx)(Pt.a,{type:"number",dataKey:"x",name:"quantity",unit:"L"}),Object(H.jsx)(Rt.a,{type:"number",dataKey:"y",name:"sales"}),Object(H.jsx)(Rt.a,{type:"text",dataKey:"z",name:"drink"}),Object(H.jsx)(Vt.a,{cursor:{strokeDasharray:"3 3"},payload:d,content:Object(H.jsx)(h,{})}),d.map((function(e){return Object(H.jsx)(hn.a,{name:e.type,data:e.items,fill:jn({luminosity:"dark",format:"rgb",alpha:1})})})),Object(H.jsx)(Qt.a,{height:5,margin:{bottom:0},align:"right",verticalAlign:"bottom"})]})})},fn=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(b.a)(i,2),s=(c[0],c[1]),l=Object(we.c)((function(e){return e.branch.branchId})),m=Object(a.useState)([]),h=Object(b.a)(m,2),j=h[0],f=h[1],O=Object(a.useState)([]),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)([]),w=Object(b.a)(y,2),S=w[0],N=w[1],I=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,i,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/stats/getBarStats/",{params:{branchId:l}});case 3:return t=e.sent,e.next=6,t.data;case 6:return n=e.sent,e.next=9,n.message;case 9:a=e.sent,s(a),i=n.data.rows,r(i),setTimeout((function(){return s("")}),2e3),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),(c=e.t0.response?e.t0.response.data:null)&&(o=c.message,s(o),r([]),setTimeout((function(){return s("")}),2e3));case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){I()}),[l]),Object(a.useEffect)((function(){n&&function(){if(n.length>0){var e=n.map((function(e){return e.data})).flat(),t=Object(qt.a)(new Set(e.map((function(e){return e.date})))),a=t.map((function(t,n){return{date:t,totalSales:e.filter((function(e){return e.date===t})).map((function(e){return e.totalNumberOfSales})).reduce((function(e,t){return e+t}))}})),r=t.map((function(t,n){return{date:t,salesByType:e.filter((function(e){return e.date===t})).map((function(e,t,n){return e.salesByType})).reduce((function(e,t,n,a){return Object.keys(t).forEach((function(n){e[n]=e[n]?e[n]+t[n]:t[n]})),e}),{Alcohol:0})}})),i=t.map((function(t,n){return{date:t,salesByDrink:e.filter((function(e){return e.date===t})).map((function(e,t,n){return e.salesByDrink})).filter((function(e){return e.length>0?e:null})).flat().reduce((function(e,t,n,a){var r=t.type;return e.hasOwnProperty(r)?(t.items.forEach((function(t){var n=t.drink,a=t.quantity,i=t.sales,c=e[r].findIndex((function(e){return e.drink==n&&e.quantity==a}));if(c>=0){var s=e[r][c];s.sales+=i,e[r]=[].concat(Object(qt.a)(e[r].slice(0,c)),[s],Object(qt.a)(e[r].slice(c+1)))}else e[r]=[].concat(Object(qt.a)(e[r]),[t])})),e):(e[r]=t.items,e)}),{})}}));a&&f(a),r&&v(r),i&&N(i)}else f([]),v([]),N([])}()}),[n,l]),Object(H.jsxs)(o.a,{children:[Object(H.jsx)(tn,{sx:{margin:"1rem"},container:{display:"flex"}}),Object(H.jsxs)(o.a,{sx:{display:"flex",margin:"1rem",flexWrap:"wrap",justifyContent:"center"},children:[Object(H.jsx)(un,{data:j}),Object(H.jsx)(bn,{data:g}),Object(H.jsx)(pn,{data:S}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0})]})]})},On=n(49),xn=n(663),gn=n(667),vn=n(640),yn=function(e){var t=e.errors,n=e.helpers,r=e.onchanges,i=e.identity,c=e.mobileNo,s=Object(a.useState)(!1),o=Object(b.a)(s,2),l=o[0],h=o[1],p=Object(a.useState)([]),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(""),N=Object(b.a)(S,2),I=N[0],C=N[1],k=Object(a.useState)(""),T=Object(b.a)(k,2),A=T[0],B=T[1],D=Object(a.useState)(""),E=Object(b.a)(D,2),q=E[0],F=E[1],P=Object(a.useState)(""),R=Object(b.a)(P,2),V=R[0],L=R[1],M=Object(a.useState)(""),Y=Object(b.a)(M,2),z=Y[0],X=Y[1],W=Object(a.useState)(""),U=Object(b.a)(W,2),K=U[0],J=U[1],G=Object(we.b)(),Q=Object(we.c)((function(e){return e.cusAutoFill.branchId})),Z=Object(we.c)((function(e){return e.cusAutoFill.cValues})),$=Z.identityId,_=Z.mobileNo;return Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t).branchId;case 5:return n=e.sent,e.next=8,wt.get("/customer/all/",{params:{branchId:n}});case 8:return a=e.sent,e.next=11,a.data.data.rows;case 11:return r=e.sent,i=r.map((function(e){return{id:e.id,name:e.name,identityId:e.identityId,mobileNo:e.mobileNo,branchId:e.branchId}})),e.next=15,G(Ye(n));case 15:x(i),w(i);case 17:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){if(""===q&&null===q||""===I)""!==q&&null!=q||(x(y),B(""),L(""),h(!1),F(""));else{var e=O.filter((function(e){return e.name==q}));C(q),x(e),B(""),h(!0)}}),[q,I]),Object(a.useMemo)((function(){var e=O.find((function(e){return e.name===q&&e.id===V})),t={cName:q||"",cId:V||"",mobileNo:z||(null===e||void 0===e?void 0:e.mobileNo),identityId:K||(null===e||void 0===e?void 0:e.identityId)};G(He(t)),""!==q&&""!==V&&null!==q&&null!==V&&e&&(J(e.identityId),X(e.mobileNo))}),[q,V,z,K]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ye.a,{name:"name",value:q,onChange:function(e,t){F(t),r.name()},inputValue:I,onInputChange:function(e,t){C(t),L(""),J(""),X("")},options:O.map((function(e){return e.name})),renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Enter Customer Name",type:"text"}))},autoSelect:!0,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "}}),t.name&&Object(H.jsx)(m.a,{component:"p",textAlign:"center",variant:"p",color:"red",children:n.name}),l&&Object(H.jsx)(ye.a,{name:"id",value:V,onChange:function(e,t){L(t),r.id()},inputValue:A,onInputChange:function(e,t){B(t),J(""),X("")},options:O.map((function(e){return e.id})),renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Enter Customer ID",type:"number"}))},autoSelect:!0,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "}}),t.id&&Object(H.jsx)(m.a,{component:"p",textAlign:"center",variant:"p",color:"red",children:n.id}),i&&Object(H.jsx)(ye.a,{name:"identity",value:$,options:[$],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Identity ID",type:"text"}))},disableClearable:!0,defaultValue:$,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "}}),c&&Object(H.jsx)(ye.a,{name:"mobile",value:_,options:[_],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Mobile No",type:"number"}))},disableClearable:!0,defaultValue:_,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "}}),Object(H.jsx)(ge,{label:"Branch Id",disabled:!0,type:"text",value:Q,name:"branch",shrink:!0})]})},wn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",border:"2px solid #000",borderRadius:"1rem",boxShadow:24,p:4},Sn=function(e){var t=e.index,n=e.value,r=e.width,i=Object(we.c)((function(e){return e.inquiry.modalOpen})),c=Object(we.c)((function(e){return e.cusAutoFill.cValues})),s=c.cName,l=c.cId,b=Object(we.b)(),h=Oe.d({cName:Oe.f("Enter Your Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),cId:Oe.f("Enter Customer Id").min(1,"Too Short").required("Enter A Customer Id"),title:Oe.f("Specify Inquiry Title").min(10,"Too Short!"),description:Oe.f("Specify A Small Description About The Inquiry").min(10,"Too Short!"),status:Oe.f("Select Status").default("OPEN")}),p=Object(fe.a)({initialValues:{cName:"",cId:"",title:"",description:"",status:""},validationSchema:h,onSubmit:function(e){return O(p.values)}});Object(a.useEffect)((function(){p.setFieldValue("cName",s)}),[s]),Object(a.useEffect)((function(){p.setFieldValue("cId",l)}),[l]);var f=function(){b(Re(!1)),p.resetForm()},O=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={name:t.cName,title:t.title,description:t.description,status:t.status},e.next=4,wt.put("/customer/inquire/".concat(t.cId),n);case 4:return a=e.sent,e.next=7,a.data.data;case 7:e.sent,b(Ve(!0)),f(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.response.data);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),x={cName:p.touched.cName&&p.errors.cName,cId:p.touched.cId&&p.errors.cId},g={cName:p.touched.cName&&Boolean(p.errors.cName),id:p.touched.cId&&Boolean(p.errors.cId)},v={name:function(){return p.setFieldValue("cName",s)},id:function(){return p.setFieldValue("cId",l)}};return console.log(s,l),t!==n?null:Object(H.jsx)(xn.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:i,closeAfterTransition:!0,BackdropComponent:gn.a,BackdropProps:{timeout:500},onClose:function(e,t){return"backdropClick"===t?null:f()},children:Object(H.jsx)(vn.a,{in:i,children:Object(H.jsxs)(o.a,{sx:wn,children:[Object(H.jsx)(m.a,{component:"h1",textAlign:"center",variant:"h4",children:"Add Inquiry"}),Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.handleSubmit()},style:{display:"flex",width:r,minHeight:"25rem",margin:"5% auto ",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[Object(H.jsx)(yn,{errors:g,helpers:x,onchanges:v}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Title",pHolder:"Enter Inquiry Title",required:!0,type:"text",error:p.touched.title&&Boolean(p.errors.title),helper:p.touched.title&&p.errors.title,value:p.values.title,onChange:p.handleChange,name:"title"}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Description",pHolder:"Describe Inquiry",required:!0,type:"text",error:p.touched.description&&Boolean(p.errors.description),helper:p.touched.description&&p.errors.description,value:p.values.description,onChange:p.handleChange,name:"description",multiline:!0,rows:4}),Object(H.jsx)(ye.a,{error:p.touched.status&&Boolean(p.errors.status),helper:p.touched.status&&p.errors.status,name:"status",value:p.values.status,onChange:function(e,t){p.setFieldValue("status",t)},options:["Open","Close","Processing"],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Select Inquiry Status",type:"text"}))},autoSelect:!0,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "},defaultValue:"Open"}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"submit",children:"Add Inquiry"}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"button",color:"error",onClick:f,children:"Close"})]})]})})})},Nn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",border:"2px solid #000",borderRadius:"1rem",boxShadow:24,p:4},In=function(e){var t=e.index,n=e.value,r=e.width,i=e.row,c=Object(we.c)((function(e){return e.inquiry.statusModal})),s=Object(we.b)(),l=Object(a.useState)(""),h=Object(b.a)(l,2),p=(h[0],h[1]),f=i.id,O=i.cId,x=i.description,g=i.name,v=i.title,y=i.status,w=Object(a.useState)(!1),S=Object(b.a)(w,2),N=S[0],I=S[1],C=Oe.d({cName:Oe.f("Enter Your Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),cId:Oe.f("Enter Customer Id").min(1,"Too Short").required("Enter A Customer Id"),title:Oe.f("Specify Inquiry Title").min(10,"Too Short!"),description:Oe.f("Specify A Small Description About The Inquiry").min(10,"Too Short!"),status:Oe.f("Select Status").default("Open")}),k=Object(fe.a)({initialValues:{cName:g,cId:O,title:v,description:x,status:y},validationSchema:C,onSubmit:function(e){return A(k.values)}}),T=function(){s(Le(!1)),k.resetForm()};Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t).branchId;case 5:n=e.sent,p(n);case 7:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){y!==k.values.status?I(!0):I(!1)}),[k.values.status]);var A=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={status:t.status},e.next=4,wt.put("/customer/".concat(O,"/").concat(f),n);case 4:e.sent,y=t.status,T(),s(Ve(!0)),y=t.status,k.setFieldValue("status",y),y=k.values.status,I(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.response.data);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return console.log(k.values.status),t!==n?null:Object(H.jsx)(xn.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:c,closeAfterTransition:!0,BackdropComponent:gn.a,BackdropProps:{timeout:500},onClose:function(e,t){return"backdropClick"===t?null:T()},children:Object(H.jsx)(vn.a,{in:c,children:Object(H.jsxs)(o.a,{sx:Nn,children:[Object(H.jsx)(m.a,{component:"h1",textAlign:"center",variant:"h4",children:"Change Inquiry Status"}),Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k.values.status!==y&&k.handleSubmit()},style:{display:"flex",width:r,minHeight:"25rem",margin:"5% auto ",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[Object(H.jsx)(ge,{disabled:!0,sx:{padding:"5px"},label:"Customer Name",type:"text",value:g,name:"cName"}),Object(H.jsx)(ge,{disabled:!0,sx:{padding:"5px"},label:"Customer Id",type:"text",value:O,name:"cId"}),Object(H.jsx)(ge,{disabled:!0,sx:{padding:"5px"},label:"Title",type:"text",value:v,name:"title"}),Object(H.jsx)(ge,{disabled:!0,sx:{padding:"5px"},label:"Description",type:"text",value:x,name:"description",multiline:!0,rows:4}),Object(H.jsx)(ye.a,{error:k.touched.status&&Boolean(k.errors.status),helper:k.touched.status&&k.errors.status,name:"status",value:k.values.status,onChange:function(e,t){k.setFieldValue("status",t)},options:["Open","Close","Processing"],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Select Inquiry Status",type:"text"}))},autoSelect:!0,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "}}),N&&Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"submit",children:"Change Status"}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"button",color:"error",onClick:T,children:"Close"})]})]})})})},Cn=[{field:"id",headerName:"ID",width:120},{field:"cId",headerName:"Customer Id",width:200},{field:"name",headerName:"Name",width:250},{field:"mobile",headerName:"Mobile No",width:200},{field:"identity",headerName:"Identity/Social Security No",width:250},{field:"title",headerName:"Title",sortable:!1,width:350},{field:"status",headerName:"Status",sortable:!1,width:300}],kn=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(b.a)(i,2),s=c[0],o=c[1],l=Object(a.useState)(""),h=Object(b.a)(l,2),p=h[0],f=h[1],O=Object(a.useState)(""),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)(""),w=Object(b.a)(y,2),S=w[0],N=w[1],I=Object(a.useState)(null),C=Object(b.a)(I,2),k=C[0],T=C[1],A=M(),B=Object(we.b)(),D=Object(we.c)((function(e){return e.inquiry.reload}));Object(we.c)((function(e){return e.inquiry.statusModal}));Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JSON.parse(A.userData).branchId;case 2:t=e.sent,N(t);case 4:case"end":return e.stop()}}),e)}))),[]);var E=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!D){e.next=9;break}return e.next=4,wt.get("/customer/inquiry/",{params:{branchId:S,query:p}});case 4:t=e.sent,n=t.data.data.rows,a=n.map((function(e){return{id:e.id,cId:e.customerId,name:e.name,mobile:e.mobileNo,identity:e.identityId,title:e.title,description:e.description,status:e.status}})),o(a),B(Ve(!1));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),B(Ve(!0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){return window.addEventListener("focusin",(function(){return B(Ve(!0))})),function(){window.removeEventListener("focusin",(function(){return B(Ve(!0))}))}}),[]),Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:case"end":return e.stop()}}),e)}))),[S,p,D]);return Object(a.useEffect)((function(){if(n.length>0){var e=s.find((function(e){return e.id===n[0]})).description||"Not Available";v(e)}}),[n]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(xe.a,{label:"Search Customer",name:"customer",placeholder:"Search For Customers By Name",type:"search",error:!1,margin:"dense",sx:{padding:2},variant:"standard",focused:!0,onChange:function(e,t){f(e.target.value),B(Ve(!0))},fullWidth:!0}),Object(H.jsxs)("div",{style:{display:"flex"},children:[Object(H.jsx)("div",{style:{height:400,width:"70%"},children:Object(H.jsx)(On.a,{rows:s,columns:Cn,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},onRowClick:function(e){return function(e){0===n.length?T(e):T(null)}(e.row)}})}),Object(H.jsxs)("div",{style:{width:"30%",margin:"10px"},children:[Object(H.jsx)(m.a,{variant:"h4",gutterBottom:!0,component:"div",paragraph:!0,align:"center",children:"Description"}),Object(H.jsx)(m.a,{variant:"h5",gutterBottom:!0,component:"div",paragraph:!0,align:"center",children:g})]})]}),Object(H.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:[Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"button",onClick:function(){return B(Re(!0))},size:"large",sx:{marginRight:1},children:"Add Inquiry"}),k&&Object(H.jsx)(pe.a,{variant:"contained",color:"warning",type:"submit",onClick:function(){return B(Le(!0))},size:"large",sx:{marginRight:1},children:"Change Status"})]}),Object(H.jsx)(Sn,{}),k&&Object(H.jsx)(In,{row:Object(j.a)({},k)})]})},Tn=function(e){var t=e.errors,n=e.helpers,a=e.values,r=e.onChanges;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ge,{label:"Name",pHolder:"Name",required:!0,type:"text",error:t.name,helper:n.name,value:a.name,onChange:r,name:"name"}),Object(H.jsx)(ge,{label:"Mobile Number",pHolder:"947XXXXXXXX / Foreign Mobile Number",required:!0,type:"number",error:t.mobile,helper:n.mobile,value:a.mobile,onChange:r,shrink:!0,name:"mobile"}),Object(H.jsx)(ge,{label:"ID/Passport No",pHolder:"XXXXXXXXXV / XXXXXXXXXX / NXXXXXXX",required:!0,type:"text",error:t.identity,helper:n.identity,value:a.identity,onChange:r,name:"identity"})]})},An=new Date,Bn=new Date;An.setFullYear(An.getFullYear()-70,0,1),Bn.setFullYear(Bn.getFullYear()-18,0,1);var Dn=/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,En=function(e){var t=e.index,n=e.value,r=e.width,i=Object(a.useState)(""),c=Object(b.a)(i,2),s=c[0],o=c[1],l=Oe.d({name:Oe.f("Enter Your Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),mobile:Oe.f().matches(Dn,"Phone number is not valid"),identity:Oe.f("Enter An NIC ID Or Passport ID").min(7,"Too Short").required("Enter An NIC ID Or Passport ID")}),h=Object(fe.a)({initialValues:{name:"",mobile:"",identity:""},validationSchema:l,onSubmit:function(e){return j(h.values)}}),j=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={name:t.name,mobileNo:t.mobile,identityId:t.identity,branchId:56},e.next=4,wt.post("/customer/register/",n);case 4:a=e.sent,o(a.data.message),h.resetForm(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0.response.data&&o(e.t0.response.data.message);case 12:setTimeout((function(){return o("")}),3e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),p={name:h.touched.name&&h.errors.name,mobile:h.touched.mobile&&h.errors.mobile,identity:h.touched.identity&&h.errors.identity},f={name:h.touched.name&&Boolean(h.errors.name),mobile:h.touched.mobile&&Boolean(h.errors.mobile),identity:h.touched.identity&&Boolean(h.errors.identity)},O={name:h.values.name,mobile:h.values.mobile,identity:h.values.identity};return t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h.handleSubmit()},style:{display:"flex",width:r,minHeight:"20rem",margin:"10% auto",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[Object(H.jsx)(Tn,{helpers:p,errors:f,values:O,onChanges:h.handleChange}),Object(H.jsx)(m.a,{component:"h4",variant:"body1",children:s}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,type:"submit",children:"Register Customer"})]})},qn=[{field:"name",headerName:"Name",align:"center",width:200},{field:"mobileNo",headerName:"Mobile Number",align:"center",width:200},{field:"identityId",headerName:"Identity(Passport/NIC)",align:"center",width:150},{field:"roomNo",headerName:"Room Number",type:"number",align:"center",width:100},{field:"id",headerName:"ID",align:"center",width:100},{field:"branchId",headerName:"Branch ID",align:"center",width:100},{field:"roomId",headerName:"Room ID",align:"center",width:100},{field:"customerId",headerName:"Customer ID",align:"center",width:150},{field:"checkIn",headerName:"Check-In Date",width:150,valueGetter:function(e){var t=e.row;return new Date(t.checkIn).toLocaleDateString()}},{field:"checkOut",headerName:"Check-Out Date",width:150,valueGetter:function(e){var t=e.row;return new Date(t.checkOut).toLocaleDateString()}},{field:"checkIn",headerName:"Checked In Date",align:"center",width:200},{field:"checkOut",headerName:"Check Out Date",align:"center",width:200},{field:"noOfAdults",headerName:"Number Of Adults",type:"date",align:"center",width:150},{field:"noOfChildren",headerName:"Number Of Children",type:"number",align:"center",width:200},{field:"pricePerNight",headerName:"Price Per Night",align:"center",width:150},{field:"Total",headerName:"Total Price",align:"center",width:150},{field:"lengthOfStay",headerName:"Length Of Stay(Days)",type:"number",align:"center",width:200},{field:"isBooked",headerName:"Booked(bool)",align:"center",width:0,hide:!0},{field:"status",headerName:"Status",width:150,valueGetter:function(e){return 1===e.row.isBooked?"In":"Out"}}],Fn={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",minHeight:200},Pn=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),c=Object(b.a)(i,2),s=c[0],l=c[1],h=Object(a.useState)(""),j=Object(b.a)(h,2),p=j[0],f=j[1],O=Object(a.useState)([]),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)(""),w=Object(b.a)(y,2),S=(w[0],w[1]),N=Object(a.useState)(""),I=Object(b.a)(N,2),C=I[0],k=I[1],T=Object(a.useState)(""),A=Object(b.a)(T,2),B=A[0],D=A[1];Object(a.useEffect)((function(){var e=window.localStorage.getItem("@user"),t=JSON.parse(e).branchId;f(t)}),[]),Object(a.useEffect)((function(){E()}),[p]);var E=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,l=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.length>0&&void 0!==l[0]?l[0]:"",n=l.length>1&&void 0!==l[1]?l[1]:"",!p){e.next=20;break}return e.prev=3,e.next=6,wt.get("/manage/room/getBooked/",{params:{branchId:p,name:t,roomNo:n}});case 6:return a=e.sent,e.next=9,a.data;case 9:r=e.sent,i=r.message,c=r.data.data,r.data.isSuccess?(v(c),S(i),setTimeout((function(){return S("")}),2e3)):(v([]),S(i),setTimeout((function(){return S("")}),2e3)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),e.t0.response?(s=e.t0.response.data,o=s.message,v([]),S(o)):(v([]),S("Something Went Wrong")),setTimeout((function(){return S("")}),2e3);case 20:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){E(C,B)}),[C,B]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex"},children:[Object(H.jsx)(ge,{label:"Search By Customer Name",name:"customer",pHolder:"Search For Customers By Name",type:"search",onChange:function(e){return k(e.target.value)},value:C,error:!1,margin:"dense",sx:{padding:2},variant:"standard",focused:!0}),Object(H.jsx)(ge,{label:"Search By Room No",name:"roomNo",pHolder:"Search For Customers By Name",type:"search",onChange:function(e){return D(e.target.value)},error:!1,margin:"dense",sx:{padding:2},variant:"standard",focused:!0,value:B})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:g,columns:qn,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0})})}),Object(H.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:[Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"submit",size:"large",sx:{marginRight:1},disabled:!(n.length>0),onClick:function(){return l(!0)},children:"Check Out Customer"}),g&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"button",size:"large",sx:{marginRight:1},disabled:!(g.length>0),children:Object(H.jsx)(zt.CSVLink,{data:g,style:{textDecoration:"none",color:"white"},children:"Download Table"})})]}),Object(H.jsx)(xn.a,{open:s,onClose:function(){return l(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(H.jsxs)(o.a,{sx:Fn,children:[Object(H.jsx)(m.a,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Are You Sure ?"}),Object(H.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly"},children:[Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"submit",size:"large",sx:{marginRight:1},children:"Yes"}),Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"submit",size:"large",sx:{marginRight:1},children:"No"})]})]})})]})},Rn=n(592),Vn=n(587),Ln=function(e){var t=e.errors,n=e.helpers,a=e.onchanges,r=e.values,i=e.width,c=e.newCus,s=e.oldCus;return Object(H.jsxs)(o.a,{sx:{width:i},children:[c&&Object(H.jsx)(Tn,{helpers:n.helps,errors:t.errs,values:r,onChanges:a.handleChange}),s&&Object(H.jsx)(yn,{mobileNo:!0,identity:!0,errors:t.errsAutoFill,helpers:n.helpsAutoFill,onchanges:a.onChangesAutoFill})]})},Mn=function(e){return{name:e.touched.name&&e.errors.name,id:e.touched.id&&e.errors.id}},Hn=function(e){return{name:e.touched.name&&Boolean(e.errors.name),id:e.touched.id&&Boolean(e.errors.id)}},Yn=function(e,t){return{name:function(){return e.setFieldValue("name",t.cusName)},id:function(){return e.setFieldValue("id",t.cusId)}}},zn=function(e){return{name:e.touched.name&&e.errors.name,mobile:e.touched.mobile&&e.errors.mobile,identity:e.touched.identity&&e.errors.identity}},Xn=function(e){return{name:e.touched.name&&Boolean(e.errors.name),mobile:e.touched.mobile&&Boolean(e.errors.mobile),identity:e.touched.identity&&Boolean(e.errors.identity)}},Wn=function(e){return{name:e.values.name,mobile:e.values.mobile,identity:e.values.identity}},Un=(n(300),new Date),Kn=new Date;Un.setFullYear(Un.getFullYear()-70,0,1),Kn.setFullYear(Kn.getFullYear()-18,0,1);var Jn=function(e){var t=e.index,n=e.value,r=Object(a.useState)(!0),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)({breakfast:!1,lunch:!1,dinner:!1}),h=Object(b.a)(l,2),f=(h[0],h[1],Object(a.useState)([])),O=Object(b.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)([]),y=Object(b.a)(v,2),w=y[0],S=y[1],N=Object(a.useState)([]),I=Object(b.a)(N,2),C=I[0],k=I[1],T=Object(a.useState)([]),A=Object(b.a)(T,2),B=(A[0],A[1],Object(a.useState)([])),D=Object(b.a)(B,2),E=(D[0],D[1],Object(we.c)((function(e){return e.cusAutoFill.cValues}))),q=E.cName,F=E.cId,P=E.mobileNo,R=E.identityId,V=Object(we.c)((function(e){return e.branch.branchId})),L=Object(a.useState)(""),M=Object(b.a)(L,2),Y=M[0],z=M[1],X=Object(a.useState)(!1),W=Object(b.a)(X,2),U=W[0],K=W[1],J=Object(we.b)(),G=Oe.d({name:Oe.f("Enter Your Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),mobile:Oe.c("Enter A Mobile Phone Number").test("len","Enter A Value With 9 Or More Digits",(function(e){return e&&e.toString().length>=9})).required("Date Of Birth Required"),identity:Oe.f("Enter An NIC ID Or Passport ID").min(7,"Too Short").required("Enter An NIC ID Or Passport ID"),dateIn:Oe.b("Specify Check In Date").required("Check In Date Missing"),dateOut:Oe.b("Specify Check Out Date").when("dateIn",(function(e,t){var n=new Date(e),a=n.getDate()+1;return n.setDate(a),e&&t.min(n)})).required("Check Out Date Missing"),minAdults:Oe.c("Specify Minimum Number Of Adults").min(1,"Enter A  Number").max(8,"Too Crowded"),minChildren:Oe.c("Specify Minimum Number Of Children").min(1,"Enter A  Number").max(5,"Too Crowded"),pricePerNight:Oe.c("Price Per Night Missing").min(1,"Enter A  Valid Value").required("Price Per Night Missing"),total:Oe.c("Total Cost Missing").min(1,"Enter A  Valid Value").required("Total Cost Missing"),nights:Oe.c("Specify Length Of Stay").min(1,"Enter A  Valid Value").max(30,"Maximum Number Of Nights is 30").required("length Of Stay Missing"),roomNo:Oe.c("Enter A Room Number").max(1e3,"Room Number Seems Too Long").required("Room Number Is Required"),roomType:Oe.f("Select Or Specify A Room Type").min(4,"Too Short").required("Room Type Is Required"),beds:Oe.c("Enter A Number").min(0,"Enter A Valid Number").max(3,"Enter A Realistic Number").default(1),branchId:Oe.f("Select A Branch Id").min(1,"Too Short!").max(60,"Too Long!").required("Required")}),Q=Object(fe.a)({initialValues:{name:"",mobile:"",identity:"",dateIn:"",dateOut:"",minAdults:"",minChildren:"",pricePerNight:"",nights:"",roomType:"",roomNo:"",beds:"",total:"",branchId:""},validationSchema:G,onSubmit:function(e){return _(e)}}),Z=function(){Q.setFieldValue("roomType",""),Q.setFieldValue("roomNo",""),Q.setFieldValue("minAdults",""),Q.setFieldValue("minChildren",""),Q.setFieldValue("pricePerNight",""),Q.setFieldValue("beds",""),Q.setFieldValue("nights",""),Q.setFieldValue("total","")};Object(a.useEffect)((function(){c||(Q.setFieldValue("name",q),Q.setFieldValue("mobile",P),Q.setFieldValue("identity",R))}),[E]);var $=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,l,d,b,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,e.next=8,n.employeeId;case 8:return a=e.sent,e.prev=9,console.log(V),e.next=13,wt.get("/manage/room/getFilter/",{params:{branchId:V,employeeId:a}});case 13:return r=e.sent,e.next=16,r.data.message;case 16:return i=e.sent,e.next=19,r.data.data;case 19:return c=e.sent,e.next=22,c.isRoom;case 22:s=e.sent,o=c.rows,l=o.filter((function(e){return 0===e.isBooked})),s?g(l):(g([]),Z()),z(i),e.next=38;break;case 29:e.prev=29,e.t0=e.catch(9),d=e.t0.response.data,b=d.message,m=d.data,m.isRoom,g([]),Z(),z(b);case 38:setTimeout((function(){return z("")}),2e3);case 39:case"end":return e.stop()}}),e,null,[[9,29]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){$()}),[V]),Object(a.useEffect)((function(){V&&Q.setFieldValue("branchId",V)}),[V]),Object(a.useEffect)((function(){if(x){var e=x.map((function(e){return e.type})),t=Object(qt.a)(new Set(e));S(t)}}),[x]),Object(a.useEffect)((function(){var e=new Date(Q.values.dateIn),t=new Date(Q.values.dateOut);if(e instanceof Date&&t instanceof Date){var n=e.getMonth(),a=e.getFullYear(),r=e.getDate(),i=t.getMonth(),c=t.getFullYear()-a,s=i-n,o=t.getDate()-r;console.log(c,s,o);var l=o+30*s+365*c;if(Q.setFieldValue("nights",l),Q.values.pricePerNight){var u=Q.values.pricePerNight*l;Q.setFieldValue("total",u)}}else Q.setFieldValue("nights",""),Q.setFieldValue("total","")}),[Q.values.dateIn,Q.values.dateOut]);Object(a.useEffect)((function(){if(Boolean(Q.errors))for(var e=Q.getFieldMeta(),t=Object.keys(e.error),n=0;n<t.length;n++)z(Q.errors[t[n]]),setTimeout((function(){return z("")}),1500)}),[Q.errors]),Object(a.useEffect)((function(){Q.isValid?(z("All Fields Are Now Valid"),K(!0),setTimeout((function(){return z("")}),4e3)):K(!1)}),[Q.isValid]),Object(a.useEffect)((function(){var e=Q.values.roomType;if(w&&e){var t=x.filter((function(t){return t.type===e})).map((function(e){return e.roomNo}));console.log(t);var n=Object(qt.a)(new Set(t));k(n)}}),[w,Q.values.roomType]),Object(a.useEffect)((function(){var e=Q.values.roomNo,t=Q.values.roomType;if(C&&e&&t)if(x){var n=x.filter((function(n){return n.type===t&&n.roomNo===e}))[0],a=n.minAdults,r=n.minChildren,i=n.pricePerNight,c=n.beds,s=Q.values.nights*i;Q.setFieldValue("total",s),Q.setFieldValue("minAdults",a),Q.setFieldValue("minChildren",r),Q.setFieldValue("pricePerNight",i),Q.setFieldValue("beds",c),setTimeout((function(){return z("")}),1e3)}else Q.setFieldValue("total",""),Q.setFieldValue("minAdults",""),Q.setFieldValue("minChildren",""),Q.setFieldValue("pricePerNight",""),Q.setFieldValue("beds",""),setTimeout((function(){return z("")}),1e3)}),[C,Q.values.roomNo]);var _=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t.name,mobileNo:t.mobile,identityId:t.identity,dateIn:t.dateIn,dateOut:t.dateOut,minAdults:t.minAdults,minChildren:t.minChildren,pricePerNight:t.pricePerNight,nights:t.nights,roomType:t.roomType,roomNo:t.roomNo,beds:t.beds,total:t.total,branchId:t.branchId},e.prev=1,e.next=4,wt.post("/manage/room/reserve/",n);case 4:return a=e.sent,e.next=7,a.data;case 7:return r=e.sent,i=r.message,console.log(r.data),z(i),J(He()),J(Ue()),Q.resetForm(),e.next=16,$();case 16:e.next=24;break;case 18:e.prev=18,e.t0=e.catch(1),c=e.t0.response.data,s=c.message,console.log(c.data),z(s);case 24:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsxs)("form",{onSubmit:Q.handleSubmit,style:{display:"flex",width:"100%",margin:"2rem auto",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",margin:"2rem auto",width:"100%"},children:[Object(H.jsx)(m.a,{variant:"h4",component:"h3",sx:{transform:"translateX(-100%)"},children:"Customer Details"}),Object(H.jsx)(m.a,{variant:"h4",component:"h3",sx:{transform:"translateX(-50%)"},children:"Room"})]}),Object(H.jsx)(Rn.a,{control:Object(H.jsx)(Vn.a,{checked:c,onChange:function(){Q.setFieldValue("name",""),Q.setFieldValue("mobile",""),Q.setFieldValue("identity",""),s(!c)}}),label:"New Customer",labelPlacement:"start",sx:{alignSelf:"flex-start",marginLeft:"5rem",justifySelf:"center"}}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",width:"90%"},children:[Object(H.jsx)(Ln,{helpers:{helps:zn(Q),helpsAutoFill:Mn(Q)},errors:{errs:Xn(Q),errsAutoFill:Hn(Q)},onchanges:{onChangesAutoFill:Yn(Q,{cusName:q,cusId:F}),handleChange:Q.handleChange},values:Wn(Q),width:1/3,newCus:!!c,oldCus:!c}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0,variant:"fullWidth",sx:{alignContent:"space-evenly",margin:"0 5rem"}}),Object(H.jsxs)(o.a,{sx:{width:2/3,display:"flex",flexDirection:"column"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly"},children:[Object(H.jsx)(ge,{id:"date",label:"Check In Date",type:"date",InputLabelProps:{shrink:!0},name:"dateIn",shrink:!0,sx:{width:.4},error:Q.touched.dateIn&&Boolean(Q.errors.dateIn),helper:Q.touched.dateIn&&Q.errors.dateIn,value:Q.values.dateIn,onChange:Q.handleChange}),Object(H.jsx)(ge,{id:"date",label:"Chech Out Date",type:"date",InputLabelProps:{shrink:!0},name:"dateOut",shrink:!0,sx:{width:.4},error:Q.touched.dateOut&&Boolean(Q.errors.dateOut),helper:Q.touched.dateOut&&Q.errors.dateOut,value:Q.values.dateOut,onChange:Q.handleChange})]}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly"},children:[Object(H.jsx)(tn,{sx:{width:"18rem",margin:"1rem"},container:{display:"flex"}}),Object(H.jsx)(ye.a,{disablePortal:!0,options:w,renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Room Type"}))},sx:{width:"18rem",margin:"1rem"},disabled:!(V&&Q.values.dateIn&&Q.values.dateOut),onChange:function(e,t){return Q.setFieldValue("roomType",t)},value:Q.values.roomType,onInputChange:function(e,t){""===t&&Z()}}),Object(H.jsx)(ye.a,{disablePortal:!0,options:C,renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Room Number"}))},sx:{width:"18rem",margin:"1rem"},disabled:!Q.values.roomType,onChange:function(e,t){return Q.setFieldValue("roomNo",t)},value:Q.values.roomNo,onInputChange:function(e,t){""===t&&(Q.setFieldValue("roomNo",""),Q.setFieldValue("minAdults",""),Q.setFieldValue("minChildren",""),Q.setFieldValue("pricePerNight",""),Q.setFieldValue("beds",""))}}),Object(H.jsx)(ge,{label:"Number Of Beds",pHolder:"1",required:!0,type:"number",error:Q.touched.beds&&Boolean(Q.errors.beds),helper:Q.touched.beds&&Q.errors.beds,shrink:!0,value:Q.values.beds,onChange:Q.handleChange,name:"beds",sx:{width:"18rem"},disabled:!0})]}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(H.jsx)(ge,{label:"Number Of Adults",pHolder:"1",required:!0,type:"number",error:Q.touched.minAdults&&Boolean(Q.errors.minAdults),helper:Q.touched.minAdults&&Q.errors.minAdults,shrink:!0,value:Q.values.minAdults,onChange:Q.handleChange,name:"noAdults",sx:{width:.4},disabled:!0}),Object(H.jsx)(ge,{label:"Number Of Childrens",pHolder:"0",required:!0,type:"number",error:Q.touched.minChildren&&Boolean(Q.errors.minChildren),helper:Q.touched.minChildren&&Q.errors.minChildren,value:Q.values.minChildren,onChange:Q.handleChange,name:"noChilds",sx:{width:.4},disabled:!0})]}),Object(H.jsx)(ge,{label:"Length Of Stay(Nights)",pHolder:"1",required:!0,type:"number",error:Q.touched.nights&&Boolean(Q.errors.nights),helper:Q.touched.nights&&Q.errors.nights,value:Q.values.nights,onChange:Q.handleChange,name:"nights",disabled:!0}),Object(H.jsx)(ge,{label:"Cost",required:!0,shrink:!0,type:"number",error:Q.touched.pricePerNight&&Boolean(Q.errors.pricePerNight),helper:Q.touched.pricePerNight&&Q.errors.pricePerNight,value:Q.values.pricePerNight,onChange:Q.handleChange,name:"cost",disabled:!0}),Object(H.jsx)(ge,{label:"Total",required:!0,shrink:!0,type:"number",error:Q.touched.total&&Boolean(Q.errors.total),helper:Q.touched.total&&Q.errors.total,value:Q.values.total,onChange:Q.handleChange,name:"total",disabled:!0}),Object(H.jsx)(o.a,{sx:{height:"2rem",marginTop:"1rem",width:1},children:Object(H.jsx)(m.a,{component:"h4",variant:"body1",textAlign:"center",children:Y})})]})]}),Object(H.jsx)(pe.a,{variant:"contained",type:"submit",sx:{alignSelf:"flex-end",right:"5%",top:"1rem"},disabled:!U,children:"Book Room"})]})},Gn=n(214),Qn=n.n(Gn),Zn=new Date,$n=new Date;Zn.setFullYear(Zn.getFullYear()-70,0,1),$n.setFullYear($n.getFullYear()-18,0,1);var _n=function(e){var t=e.index,n=e.value,r=Object(a.useState)(!0),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)({breakfast:!1,lunch:!1,dinner:!1}),u=Object(b.a)(l,2),d=(u[0],u[1],Object(we.c)((function(e){return e.cusAutoFill.cValues}))),h=d.cusName,f=d.cusId,O=Oe.d({name:Oe.f("Enter Your Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),mobile:Oe.c("Enter A Mobile Phone Number").min(9,"Enter A Valid Mobile Number").max(15,"Enter A Valid Mobile Number").required("Date Of Birth Required"),id:Oe.f("Enter An NIC ID Or Passport ID").min(7,"Too Short").required("Enter An NIC ID Or Passport ID")}),x=Object(fe.a)({initialValues:{name:"",mobile:"",id:""},validationSchema:O,onSubmit:function(e){return console.log(e)}}),g={name:x.touched.name&&x.errors.name,id:x.touched.id&&x.errors.id},v={name:x.touched.name&&Boolean(x.errors.name),id:x.touched.id&&Boolean(x.errors.id)},y={name:function(){return x.setFieldValue("name",h)},id:function(){return x.setFieldValue("id",f)}};return t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",width:1,justifyContent:"space-evenly",alignItems:"center",backgroundColor:"#081627",color:"white"},children:[Object(H.jsx)(Qn.a,{sx:{fontSize:100}}),Object(H.jsx)(m.a,{component:"h2",variant:"h2",children:"Some Work To Be Done"})]}),Object(H.jsxs)(o.a,{sx:{display:"flex",width:"100%",margin:"2rem auto",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh"},children:[Object(H.jsx)(Rn.a,{control:Object(H.jsx)(Vn.a,{checked:c,onChange:function(){return s(!c)}}),label:"In-Hotel Customer",labelPlacement:"start",sx:{alignSelf:"flex-start",marginLeft:"5rem",justifySelf:"center"}}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",width:"90%"},children:[c&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Ln,{helpers:{helpsAutoFill:g},errors:{errsAutoFill:v},onchanges:{onChangesAutoFill:y},width:1/3,newCus:!1,oldCus:c}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0,variant:"fullWidth",sx:{alignContent:"space-evenly",margin:"0 5rem"}})]}),Object(H.jsxs)(o.a,{sx:{width:2/3,display:"flex",flexDirection:"column"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(H.jsx)(ye.a,{disablePortal:!0,options:["Swimming","Snooker","Night Club"],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Services"}))},sx:{width:.4}}),Object(H.jsx)(ye.a,{disablePortal:!0,options:[123,464,765],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Branch"}))},sx:{width:.4},disabled:!0})]}),Object(H.jsx)(o.a,{sx:{display:"flex",justifyContent:"space-between"},children:Object(H.jsx)(ge,{label:"Number Of People",pHolder:"1",required:!0,type:"number",error:x.touched.mobile&&Boolean(x.errors.mobile),helper:x.touched.mobile&&x.errors.mobile,shrink:!0,value:x.values.mobile,onChange:x.handleChange,name:"noAdults",initialValues:1})}),Object(H.jsx)(ge,{label:"Cost",required:!0,shrink:!0,type:"number",error:x.touched.id&&Boolean(x.errors.id),helper:x.touched.id&&x.errors.id,value:x.values.id,onChange:x.handleChange,name:"cost",disabled:!0})]})]})]}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"flex-end",width:1,height:"5rem",alignItems:"center"},children:[Object(H.jsx)(pe.a,{variant:"contained",type:"submit",sx:{marginRight:"2rem"},children:"Pay Now"}),Object(H.jsx)(pe.a,{variant:"contained",type:"submit",sx:{marginRight:"2rem"},children:"Add To Bill"})]})]})},ea=function(e){var t=e.sx,n=e.container,r=e.isName,i=e.isPrice,c=e.isQuantity,s=e.isCost,l=e.branchId,m=e.isStock,h=Object(we.c)((function(e){return e.beverage})),p=Object(we.b)(),f=Object(a.useState)([]),O=Object(b.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)(""),y=Object(b.a)(v,2),w=(y[0],y[1]),S=Object(a.useState)([]),N=Object(b.a)(S,2),I=N[0],C=N[1],k=Object(a.useState)(""),T=Object(b.a)(k,2),A=T[0],B=T[1],D=Object(a.useState)(""),E=Object(b.a)(D,2),q=E[0],F=E[1],P=Object(a.useState)(""),R=Object(b.a)(P,2),V=R[0],L=R[1],M=Object(a.useState)(""),Y=Object(b.a)(M,2),z=Y[0],X=Y[1],W=h.name,U=h.type,K=h.quantity,J=h.price,G=h.cost,Q=h.stock,Z=r||!0,$=i||!0,_=s||!0,ee=m||!0,te=c||!0,ne=function(e){if(e){var t=e;p(_e(t));var n=x.filter((function(e){return e.type===t})),a=n.map((function(e){return e.name}));C(n),F(Object(qt.a)(new Set(a)))}},ae=function(e){if(e){var t=e;p($e(t));var n=I.filter((function(e){return e.name===t&&e.type===U}));C(n);var a=n.map((function(e){return e.quantity}));L(Object(qt.a)(new Set(a)))}},re=function(e){if(e&&I.length>0){var t=e;p(et(t));var n=I.filter((function(e){return e.quantity===t&&e.name===W&&e.type===U})).map((function(e){return e.cost}));X(Object(qt.a)(new Set(n)))}},ie=function(e){if(e&&I.length>0){var t=e;p(ut(t));var n=I.filter((function(e){return e.cost===t&&e.quantity===K&&e.name===W&&e.type===U})),a=n[0].price,r=n[0].stock;p(tt(a)),p(at(r))}},ce=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/bar/getStock/",{params:{branchId:l}});case 3:return t=e.sent,e.next=6,t.data.data;case 6:return n=e.sent,e.next=9,t.data.message;case 9:return a=e.sent,e.next=12,n.isAvailable;case 12:r=e.sent,i=n.data,r&&i&&(g(i),C(i),B(Object(qt.a)(new Set(i.map((function(e){return e.type})))))),w(a),e.next=25;break;case 18:return e.prev=18,e.t0=e.catch(0),e.next=22,e.t0.response.data;case 22:c=e.sent,(s=c.message)&&w(s);case 25:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=W,n=U,a=K,r=G,e.next=6,ce();case 6:return e.next=8,ne(n);case 8:return e.next=10,ae(t);case 10:return e.next=12,re(a);case 12:return e.next=14,ie(r);case 14:case"end":return e.stop()}}),e)}))),[Q]),Object(a.useEffect)((function(){ce()}),[l]),Object(H.jsxs)(o.a,{sx:n,children:[Object(H.jsx)(ye.a,{disablePortal:!0,options:A||[],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Search / Select Beverage Type"}))},onChange:function(e,t){return ne(t)},onInputChange:function(e,t){if(t)p($e()),p(et()),p(tt()),p(ut());else{p($e()),p(tt()),p(et()),p(ut()),p(_e());var n=x.map((function(e){return e.name}));F(Object(qt.a)(new Set(n)))}},sx:t,disabled:!l,value:U}),Z&&Object(H.jsx)(ye.a,{disablePortal:!0,options:q||[],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Search / Select Beverage Name"}))},sx:t,onChange:function(e,t){return ae(t)},onInputChange:function(e,t){if(t)p(et()),p(tt()),p(ut());else{p($e()),p(tt()),p(et()),p(ut());var n=x.filter((function(e){return e.type===U})),a=n.map((function(e){return e.quantity}));L(Object(qt.a)(new Set(a))),C(n)}},disabled:!U,value:W}),te&&Object(H.jsx)(ye.a,{disablePortal:!0,options:V||[],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Quantity"}))},sx:t,onChange:function(e,t){return re(t)},onInputChange:function(e,t){if(t)p(tt()),p(ut());else{p(tt()),p(et()),p(ut());var n=x.filter((function(e){return e.type===U&&e.name===W})),a=n.map((function(e){return e.cost}));X.apply(void 0,Object(qt.a)(new Set(a))),C(n)}},disabled:!W,value:K}),_&&Object(H.jsx)(ye.a,{disablePortal:!0,options:z||[],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Cost"}))},sx:t,onChange:function(e,t){return ie(t)},onInputChange:function(e,t){if(t)p(tt()),p(at());else{p(tt()),p(ut()),p(at());var n=x.filter((function(e){return e.type===U&&e.name===W&&e.quantity===K}));C(n)}},disabled:!K,value:G}),$&&Object(H.jsx)(xe.a,{label:"Price",value:J,sx:t,disabled:!0}),ee&&Object(H.jsx)(xe.a,{label:"Available Units",value:Q,sx:t,disabled:!0})]})},ta=[{field:"id",headerName:"ID",align:"center",width:100},{field:"type",headerName:"Type",align:"center",width:200},{field:"name",headerName:"Drink",align:"center",width:200},{field:"quantity",headerName:"Quantity",type:"number",align:"center",width:100},{field:"units",headerName:"Units",type:"number",align:"center",width:100},{field:"price",headerName:"Total Price",type:"number",align:"center",width:250}],na=new Date,aa=new Date;na.setFullYear(na.getFullYear()-70,0,1),aa.setFullYear(aa.getFullYear()-18,0,1);var ra=function(e){var t=e.index,n=e.value,r=Object(a.useState)(!0),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)([]),h=Object(b.a)(l,2),j=h[0],f=h[1],O=Object(a.useState)([]),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)(0),w=Object(b.a)(y,2),S=w[0],N=w[1],I=Object(we.c)((function(e){return e.cusAutoFill.cValues})),C=I.cName,k=I.identityId,T=ze.cId,A=I.mobileNo,B=Object(we.c)((function(e){return e.beverage})),D=B.type,E=B.name,q=B.stock,F=B.cost,P=B.quantity,R=B.price,V=Object(a.useState)(""),L=Object(b.a)(V,2),M=L[0],Y=L[1],z=Object(a.useState)(0),X=Object(b.a)(z,2),W=X[0],U=X[1],K=Object(a.useState)(!1),J=Object(b.a)(K,2),G=J[0],Q=J[1],Z=Object(a.useState)(!1),$=Object(b.a)(Z,2),_=($[0],$[1]),ee=Object(a.useState)(!1),te=Object(b.a)(ee,2),ne=te[0],ae=te[1],re=Object(a.useState)(""),ie=Object(b.a)(re,2),ce=(ie[0],ie[1]),se=Object(a.useState)(""),oe=Object(b.a)(se,2),le=oe[0],ue=oe[1],de=Object(we.b)();Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,e.next=8,n.branchId;case 8:a=e.sent,Y(a);case 10:case"end":return e.stop()}}),e)}))),[]);var be=Oe.d({name:Oe.f("Enter Your Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),mobile:Oe.c("Enter A Mobile Phone Number").required("mobile no Required"),identity:Oe.f("Enter An NIC ID Or Passport ID").min(7,"Too Short").required("Enter An NIC ID Or Passport ID"),purchase:Oe.a().of(Oe.d().shape({type:Oe.f().required(),name:Oe.f().required(),units:Oe.c().required(),quantity:Oe.f().required(),price:Oe.c().required(),cost:Oe.c().required()}))}),me=Object(fe.a)({initialValues:{name:"",mobile:"",identity:"",purchase:[{type:"",name:"",units:0,quantity:"",price:"",cost:""}]},validationSchema:be,onSubmit:function(e){return he(e)}});Object(a.useMemo)((function(){j.length>0?me.setFieldValue("purchase",j):me.setFieldValue("purchase",[{type:"",drink:"",units:0,quantity:"",price:"",cost:""}])}),[j]),Object(a.useMemo)((function(){me.isValid?(Q(!0),_(!0)):(Q(!1),_(!1))}),[me.isValid]);Object(a.useMemo)((function(){c||(Object.values(I).some((function(e){return""===e})),me.setFieldValue("name",C),me.setFieldValue("mobile",A),me.setFieldValue("identity",k))}),[I]);var he=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={name:t.name,mobileNo:t.mobile,identityId:t.identity,purchase:t.purchase,branchId:M,total:S},a=le,ue(""),"Pay Now"!==a){e.next=33;break}return _(!1),e.prev=5,e.next=8,wt.post("/bar/payNow/",n);case 8:return r=e.sent,e.next=11,r.data;case 11:return i=e.sent,e.next=14,i.message;case 14:return c=e.sent,e.next=17,i.data;case 17:return e.sent,e.next=20,i.isSuccess;case 20:e.sent,ce(c),e.next=30;break;case 24:e.prev=24,e.t0=e.catch(5),s=e.t0.response.data,o=s.message,s.data,ce(o);case 30:N(0),f([]),ae(!1);case 33:case"end":return e.stop()}}),e,null,[[5,24]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),me.handleSubmit()},style:{display:"flex",width:"100%",margin:"2rem auto",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",margin:"2rem auto",width:"100%"},children:[Object(H.jsx)(m.a,{variant:"h4",component:"h3",sx:{transform:"translateX(-100%)"},children:"Customer Details"}),Object(H.jsx)(m.a,{variant:"h4",component:"h3",sx:{transform:"translateX(-50%)"},children:"Bar"})]}),Object(H.jsx)(Rn.a,{control:Object(H.jsx)(Vn.a,{checked:c,onChange:function(){return s(!c)}}),label:"New Customer",labelPlacement:"start",sx:{alignSelf:"flex-start",marginLeft:"5rem",justifySelf:"center"}}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",width:"90%"},children:[Object(H.jsx)(Ln,{helpers:{helps:zn(me),helpsAutoFill:Mn(me)},errors:{errs:Xn(me),errsAutoFill:Hn(me)},onchanges:{onChangesAutoFill:Yn(me,{cusName:C,cusId:T}),handleChange:me.handleChange},values:Wn(me),width:1/3,newCus:!!c,oldCus:!c}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0,variant:"fullWidth",sx:{alignContent:"space-evenly",margin:"0 5rem"}}),Object(H.jsxs)(o.a,{sx:{width:2/3,display:"flex",flexDirection:"column"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(H.jsx)(ea,{container:{display:"flex"},sx:{margin:"1rem",width:"10rem"},branchId:M}),Object(H.jsx)(ge,{label:"Units",pHolder:"1",required:!0,type:"number",shrink:!0,name:"units",sx:{width:"10rem"},margin:"none",value:W,onChange:function(e){return e.target.value<=q?U(e.target.value):null}})]}),Object(H.jsx)(pe.a,{variant:"contained",type:"button",onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:W,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:R,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:F;if(e&&t&&n&&a&&r&&i){var c,s,o=r;if(j.some((function(a){return a.type===e&&a.name===t&&a.quantity===n}))){var l=j,u=l.find((function(e){return e.type===D&&e.name===E&&e.quantity===n})),d=l.findIndex((function(e){return e===u})),b=Number(u.units)+Number(W);if(b<q)u.units=b,u.price=Number((W*o).toFixed(2)),c=Number((o*u.units).toFixed(2)),u.cost=Number((i*u.units).toFixed(2)),N((function(e){return e+c}));else{var m=S,h=Number((u.units*o).toFixed(2));u.units=q,u.price=Number((u.units*o).toFixed(2)),c=Number((o*u.units).toFixed(2)),u.cost=Number((i*u.units).toFixed(2)),N(m-h+c)}var p=[].concat(Object(qt.a)(l.slice(0,d)),[u],Object(qt.a)(l.slice(d+1,l.length)));f(p),de(_e()),de($e()),de(et()),de(tt()),de(nt())}else c=Number((o*W).toFixed(2)),s=Number((i*W).toFixed(2)),f((function(r){return[].concat(Object(qt.a)(r),[{id:r.length,type:e,name:t,quantity:n,units:a,cost:s,price:c}])})),N((function(e){return e+c})),de(_e()),de($e()),de(et()),de(tt()),de(nt());U(0)}}()},children:"Add To Cart"}),Object(H.jsx)(o.a,{sx:{minHeight:400,width:"100%"},children:Object(H.jsx)(On.a,{rows:j,columns:ta,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return v(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(g.length>1)}})}),Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",width:1},children:[Object(H.jsx)(m.a,{variant:"h4",component:"h3",sx:{width:.5},children:"Total : ".concat(S)}),Object(H.jsx)(o.a,{sx:{display:"flex",justifyContent:"flex-end",width:1,height:"5rem",alignItems:"center"},children:Object(H.jsx)(pe.a,{variant:"contained",type:"submit",sx:{marginRight:"2rem"},onClick:function(){return ue("Pay Now")},disabled:!(!ne||!G)||!G,children:ne&&G?"Loading":"Pay Now"})})]})]})]})]})},ia={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",border:"2px solid #000",borderRadius:"1rem",boxShadow:24,p:4},ca=function(e){var t=e.index,n=e.value,r=e.width,i=Object(we.b)(),c=Object(we.c)((function(e){return e.branch.branchId})),s=Object(we.c)((function(e){return e.barItem.modalOpen})),l=Object(a.useState)(!1),h=Object(b.a)(l,2),p=h[0],f=h[1],O=Object(a.useState)(""),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Oe.d({name:Oe.f("Enter Beverage Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),type:Oe.f("Enter Beverage Type").oneOf(["Alcohol","Soda","Other"],"Invalid Type").min(1,"Too Short").required("Enter A Beverage Type"),quantity:Oe.c("Specify quantity").min(.25,"It's too low").required("Required Value"),price:Oe.c("Specify Price").min(50,"It's too low").required("Required Value"),cost:Oe.c("Specify Cost").min(50,"It's too low").required("Required Value"),stock:Oe.c("Specify The Number Of Units").required("Required Value"),branchId:Oe.c("Specify Branch Id").required("Required Value")}),w=Object(fe.a)({initialValues:{name:"",type:"",quantity:"",price:"",stock:"",branchId:"",cost:""},validationSchema:y,onSubmit:function(e){return I(w.values)}});Object(a.useEffect)((function(){w.setFieldValue("branchId",c)}),[c]);var S=function(){i(bt(!1)),w.resetForm()},N=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,wt.get("/bar/getStock/",{params:t});case 4:return n=e.sent,e.next=7,n.data.data.isAvailable;case 7:a=e.sent,f(!1),v(a?"Beverage Type Available, Continue Adding Item":"Beverage Type Not Available, New Type Will Be Added"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),v("Something Went Wrong"),alert(e.t0);case 16:setTimeout((function(){return v("")}),4e3);case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=Object.values(w.errors).some((function(e){return""!==e})),t=Object.values(w.values).some((function(e){return""===e}));e||t||N(w.values)}),[w.values]);var I=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),t.quantity=t.quantity+"L",e.prev=2,e.next=5,wt.post("/bar/createDrink/",t);case 5:return n=e.sent,e.next=8,n.data;case 8:return a=e.sent,e.next=11,a.message;case 11:return r=e.sent,e.next=14,a.data.isAvailable;case 14:i=e.sent,console.log("isAvailable",i),v(r),f(!1),e.next=27;break;case 20:e.prev=20,e.t0=e.catch(2),c=e.t0.response.data,s=c.message,v(s),console.log("isAvailable",c.data.isAvailable),f(!1);case 27:setTimeout((function(){return v("")}),4e3);case 28:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsx)(xn.a,{open:s,closeAfterTransition:!0,BackdropComponent:gn.a,BackdropProps:{timeout:500},onClose:function(e,t){return"backdropClick"===t?null:S()},children:Object(H.jsx)(vn.a,{in:s,children:Object(H.jsxs)(o.a,{sx:ia,children:[Object(H.jsx)(m.a,{component:"h1",textAlign:"center",variant:"h4",children:"Add Bar Item"}),Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w.handleSubmit()},style:{display:"flex",width:r,minHeight:"25rem",margin:"5% auto ",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[Object(H.jsx)(tn,{container:{display:"flex"},sx:{margin:"1rem",width:"20rem"}}),Object(H.jsx)(ye.a,{error:w.touched.type&&Boolean(w.errors.type),helper:w.touched.type&&w.errors.type,name:"type",value:w.values.type,onChange:function(e,t){w.setFieldValue("type",t)},options:["Alcohol","Soda","Other"],renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Type Of Beverage",type:"text"}))},autoSelect:!0,clearOnBlur:!0,sx:{width:1,margin:"1rem 0 "},defaultValue:"Alcohol",disabled:!c}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Name",pHolder:"Beverage Name",required:!0,type:"text",error:w.touched.name&&Boolean(w.errors.name),helper:w.touched.name&&w.errors.name,value:w.values.name,onChange:w.handleChange,name:"name",disabled:!w.values.type}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Quantity (L)",pHolder:"1",required:!0,type:"number",error:w.touched.quantity&&Boolean(w.errors.quantity),helper:w.touched.quantity&&w.errors.quantity,value:w.values.quantity,onChange:w.handleChange,name:"quantity",disabled:!w.values.name}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Cost (Rs)",pHolder:"1",required:!0,type:"number",error:w.touched.cost&&Boolean(w.errors.cost),helper:w.touched.cost&&w.errors.cost,value:w.values.cost,onChange:w.handleChange,name:"cost",disabled:!w.values.quantity}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Price (Rs)",pHolder:"1",required:!0,type:"number",error:w.touched.price&&Boolean(w.errors.price),helper:w.touched.price&&w.errors.price,value:w.values.price,onChange:w.handleChange,name:"price",disabled:!w.values.quantity}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"No. Of Units",pHolder:"1",required:!0,type:"number",error:w.touched.stock&&Boolean(w.errors.stock),helper:w.touched.stock&&w.errors.stock,value:w.values.stock,onChange:w.handleChange,name:"stock",disabled:!w.values.price}),Object(H.jsx)(m.a,{component:"h4",variant:"body2",children:g}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"submit",disabled:!!p,children:p?"Loading":"Add Item"}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"button",color:"error",onClick:S,children:"Close"})]})]})})})},sa={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",border:"2px solid #000",borderRadius:"1rem",boxShadow:24,p:4},oa=function(e){var t=e.index,n=e.value,r=e.width,i=Object(we.b)(),c=Object(we.c)((function(e){return e.restockBarItem})),s=c.restockModalOpen,l=c.itemParams,h=!Object.values(l).some((function(e){return""===e})),p=Object(a.useState)(!1),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useRef)(null),v=Object(a.useState)(""),y=Object(b.a)(v,2),w=y[0],S=y[1],N=Oe.d({itemId:Oe.c("Specify Branch Id").required("Required Value"),stock:Oe.c("Specify The Number Of Units").min(0,"Invalid Value").required("Required Value"),branchId:Oe.c("Specify Branch Id").required("Required Value")}),I=Object(fe.a)({initialValues:{itemId:"",stock:"",branchId:""},validationSchema:N,onSubmit:function(e){return k(I.values)}}),C=function(){i(pt(!1))},k=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,c,s,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,wt.put("/bar/restockItem/",t);case 4:return n=e.sent,e.next=7,n.data;case 7:return a=e.sent,e.next=10,a.message;case 10:return r=e.sent,e.next=13,a.data.isSuccess;case 13:c=e.sent,console.log("isSuccess",c),S(r),x(!1),c&&(s=Object(j.a)(Object(j.a)({},l),{},{stock:I.values.stock}),i(ht(s))),e.next=27;break;case 20:e.prev=20,e.t0=e.catch(1),o=e.t0.response.data,d=o.message,S(d),console.log("isSuccess",o.data.isSuccess),x(!1);case 27:setTimeout((function(){return S("")}),4e3);case 28:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsx)(xn.a,{open:s&&h,closeAfterTransition:!0,BackdropComponent:gn.a,BackdropProps:{timeout:500},onClose:function(e,t){return"backdropClick"===t?null:C()},children:Object(H.jsx)(vn.a,{in:s,onEnter:function(){h&&(I.setFieldValue("itemId",l.itemId),I.setFieldValue("stock",l.stock),I.setFieldValue("branchId",l.branchId),g.current=l.stock)},children:Object(H.jsxs)(o.a,{sx:sa,children:[Object(H.jsx)(m.a,{component:"h1",textAlign:"center",variant:"h4",children:"Restock Bar Item"}),Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),I.handleSubmit()},style:{display:"flex",width:r,minHeight:"25rem",margin:"5% auto ",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},children:[Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Item Id",required:!0,type:"number",value:l.itemId,name:"itemId",disabled:!0}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Branch Id",required:!0,type:"number",value:l.branchId,name:"branchId",disabled:!0}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Beverage Type",required:!0,type:"text",value:l.type,disabled:!0}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Beverage Name",required:!0,type:"text",value:l.name,disabled:!0}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"Quantity",required:!0,type:"text",value:l.quantity,disabled:!0}),Object(H.jsx)(ge,{sx:{padding:"5px"},label:"No Of Units",pHolder:"1",required:!0,type:"number",error:I.touched.stock&&Boolean(I.errors.stock),helper:I.touched.stock&&I.errors.stock,value:I.values.stock,onChange:I.handleChange,name:"stock"}),Object(H.jsx)(m.a,{component:"h4",variant:"body2",children:w}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"submit",disabled:!!O||I.values.stock===l.stock,children:O?"Loading":"Restock"}),Object(H.jsx)(pe.a,{variant:"contained",fullWidth:!0,sx:{margin:"1rem 0 0"},type:"button",color:"error",onClick:C,children:"Close"})]})]})})})},la=[{field:"id",headerName:"Item ID",align:"center",width:100},{field:"beverageId",headerName:"Beverage Id",align:"center",width:200},{field:"branchId",headerName:"Branch Id",align:"center",width:100},{field:"name",headerName:"Name",align:"center",width:200},{field:"type",headerName:"Type",align:"center",width:200},{field:"quantity",headerName:"Quantity",align:"center",width:200},{field:"stock",headerName:"In-Stock",align:"center",width:200},{field:"cost",headerName:"Cost Per Unit",align:"center",width:200},{field:"price",headerName:"Price Per Unit",align:"center",width:200},{field:"isAvailable",headerName:"Availabiltiy",align:"center",width:100}],ua=function(){var e,t=Object(a.useState)([]),n=Object(b.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)([]),s=Object(b.a)(c,2),l=s[0],m=s[1],h=Object(we.b)(),p=Object(we.c)((function(e){return e.beverage})),f=Object(we.c)((function(e){return e.branch.branchId})),O=Object(we.c)((function(e){return e.restockBarItem})),x=O.itemParams.stock,g=O.itemParams.branchId,v=p.name,y=p.type,w=p.price,S=p.quantity,N=p.cost,I=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/bar/getStock/",{params:{branchId:t||"",name:v||"",type:y||"",price:w||"",quantity:S||"",cost:N||""}});case 3:return n=e.sent,e.next=6,n.data;case 6:return a=e.sent,e.next=9,a.message;case 9:if(e.sent,!a.data.isAvailable){e.next=19;break}return e.next=14,a.data.data;case 14:r=e.sent,i=r.map((function(e){return Object(j.a)({id:e.barItemId},e)})),m(i),e.next=20;break;case 19:m([]);case 20:e.next=29;break;case 22:return e.prev=22,e.t0=e.catch(0),e.next=26,e.t0.response.data.data;case 26:c=e.sent,c.isAvailable||m([]);case 29:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){f&&I(f)}),[v,y,w,S]),Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,e.next=8,n.empStatus;case 8:a=e.sent,(f||"Owner"===a)&&I(f);case 10:case"end":return e.stop()}}),e)}))),[f]),Object(a.useEffect)((function(){g&&x&&I(g)}),[g,x]),Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:t=e.sent,n=JSON.parse(t),a=n.branchId,I(a);case 6:case"end":return e.stop()}}),e)}))),[]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(H.jsx)(tn,{container:{display:"flex"},sx:{margin:"1rem"}}),Object(H.jsx)(ea,(e={container:{display:"flex"},sx:{margin:"1rem"}},Object(K.a)(e,"sx",{width:"15rem",margin:"1rem"}),Object(K.a)(e,"branchId",f),e))]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:l,columns:la,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return i(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(r.length>1)},onRowClick:function(e){return function(e){var t=e.beverageId,n=e.stock,a=e.branchId,r=e.name,i=e.type,c=e.quantity;h(ht({stock:n,branchId:a,itemId:t,name:r,type:i,quantity:c}))}(e.row)}})})}),Object(H.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:[Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"submit",size:"large",sx:{marginRight:1},onClick:function(){return h(bt(!0))},children:"Add Item"}),r.length>0&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"submit",size:"large",sx:{marginRight:1},onClick:function(){return h(pt(!0))},children:"Restock Item"}),l&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"button",size:"large",sx:{marginRight:1},disabled:!(l.length>0),children:Object(H.jsx)(zt.CSVLink,{data:l,style:{textDecoration:"none",color:"white"},children:"Download Table"})})]}),Object(H.jsx)(ca,{}),Object(H.jsx)(oa,{})]})},da=n(362),ba=[{field:"id",headerName:"ID",align:"center",width:100},{field:"branchId",headerName:"Branch ID",align:"center",width:100},{field:"firstName",headerName:"First Name",align:"center",width:200},{field:"lastName",headerName:"Last Name",type:"number",align:"center",width:200},{field:"fullName",headerName:"Full name",sortable:!1,width:300,valueGetter:function(e){return"".concat(e.getValue(e.id,"firstName")||""," ").concat(e.getValue(e.id,"lastName")||"")}},{field:"email",headerName:"Email",align:"center",width:300},{field:"userName",headerName:"User Name",align:"center",width:200},{field:"status",headerName:"Status",align:"center",width:200}],ma=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(100),c=Object(b.a)(i,2),s=c[0],l=(c[1],Object(a.useState)(!1)),h=Object(b.a)(l,2),j=h[0],p=h[1],f=Object(a.useState)([]),O=Object(b.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)([]),y=Object(b.a)(v,2),w=y[0],S=y[1],N=Object(a.useState)(!1),I=Object(b.a)(N,2),C=I[0],k=I[1],T=Object(a.useState)(""),A=Object(b.a)(T,2),B=A[0],D=A[1],E=Object(a.useState)(""),q=Object(b.a)(E,2),F=q[0],P=q[1],R=Object(a.useState)(""),V=Object(b.a)(R,2),L=V[0],M=V[1],Y=Object(a.useState)(!1),z=Object(b.a)(Y,2),X=z[0],W=z[1],U=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!X){e.next=19;break}if(!(t=x.map((function(e){return e.id})))){e.next=17;break}return e.prev=3,n={attendance:t,branchId:L},e.next=7,wt.post("/hr/attendance/mark/",n);case 7:a=e.sent,a.data.data.isSuccess&&(k(!1),W(!1),g([]),D(""),J()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),e.t0.response.data.data.isSuccess||J();case 16:W(!1);case 17:e.next=20;break;case 19:W(!0);case 20:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/manage/employee/searchEmployee/",{params:{branchId:L}});case 3:return t=e.sent,e.next=6,t.data.data;case 6:n=e.sent,a=n.isAvailable,S(a?n.rows:[]),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),r=e.t0.response.data.data,!1===r.isAvailable&&S([]);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=(new Date).toISOString().split("T")[0],e.next=4,wt.get("/hr/attendance/get/",{params:{branchId:L,date:t}});case 4:return n=e.sent,e.next=7,n.data;case 7:return a=e.sent,e.next=10,a.data.isSuccess;case 10:return r=e.sent,e.next=13,a.message;case 13:i=e.sent,"boolean"===typeof r&&P(r),D(i),e.next=25;break;case 18:e.prev=18,e.t0=e.catch(0),c=e.t0.response.data,s=c.data.isSuccess,o=c.message,D(o),"boolean"===typeof s&&P(s);case 25:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t).branchId;case 5:n=e.sent,M(n);case 7:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){L&&(K(),J())}),[L]),console.log(w),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{style:{display:"flex",backgroundColor:C?null:"#081627"},children:[Object(H.jsxs)("div",{style:{height:"80vh",width:C?"70%":"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[!C&&Object(H.jsx)(pe.a,{variant:"contained",color:"secondary",type:"submit",size:"large",sx:{margin:"2rem",height:"10rem",width:"90%",justifySelf:"center",fontSize:50},onClick:function(){k(!0)},children:"Mark Attendance For Today"}),C&&!F&&Object(H.jsx)(On.a,{rows:x,columns:ba,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},sx:{width:1},autoPageSize:!0}),C&&F&&Object(H.jsx)(m.a,{component:"h4",variant:"h5",children:B})]}),j&&Object(H.jsxs)(o.a,{sx:{display:"flex",flexDirection:"column",width:"50rem",height:"40rem",justifyContent:"center",alignItems:"center",alignContent:"center"},children:[Object(H.jsx)(o.a,{sx:{width:"45rem",height:"35rem",marginBottom:"2rem"},children:j&&Object(H.jsx)(da.a,{delay:s,style:{height:"35rem",width:"45rem"},onError:function(e){alert(e)},onScan:function(e){if(e&&e.text){var t=w.find((function(t){return e.text==t.id}));x.includes(t)||(console.log(t),g((function(e){return[].concat(Object(qt.a)(e),[t])})))}},facingMode:"user"})}),C&&!F&&Object(H.jsx)(m.a,{component:"h4",variant:"h5",children:B})]})]}),Object(H.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:[!F&&C&&Object(H.jsx)(pe.a,{variant:"contained",color:X?"warning":"primary",type:"button",size:"large",sx:{marginRight:1},onClick:function(){return U()},children:X?"Confirm Complete Attendance":"Complete Attendance"}),X&&Object(H.jsx)(pe.a,{variant:"contained",color:"error",type:"button",size:"large",sx:{marginRight:1},onClick:function(){return W(!1)},children:"Cancel"}),C&&!F&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"submit",size:"large",sx:{marginRight:1},onClick:function(){return p(!j)},children:j?"Close Scanner":"Open Scanner"})]})]})},ha=function(e){e.sx;var t=Object(we.c)((function(e){return e.branch.branchId})),n=Object(a.useState)([]),r=Object(b.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)(""),l=Object(b.a)(s,2),m=l[0],h=l[1],p=Object(a.useState)(""),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(we.b)(),N=(Object(we.c)((function(e){return e.searchEmployee.empValues})),function(){var e=Object(d.a)(u.a.mark((function e(){var n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/manage/employee/searchEmployee",{params:{branchId:t}});case 3:return n=e.sent,e.next=6,n.data.data;case 6:return a=e.sent,e.next=9,a.rows;case 9:r=e.sent,a.isAvailable?(i=r.map((function(e){return{empFName:e.firstName,empLName:e.lastName,empFullName:"".concat(e.firstName,"-").concat(e.lastName),email:e.email,status:e.status,branchId:t,empId:e.id,dob:new Date(e.dob).toLocaleDateString()}})),c(i)):c([]),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.response.data.data.isAvailable||c([]);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}());Object(a.useEffect)((function(){!function(){if(O&&m){var e=new Date(y[0].dob),t={empFName:y[0].empFName,empLName:y[0].empLName,email:y[0].email,status:y[0].status,dob:e,branchId:y[0].branchId,empId:y[0].empId};S(Ge(t))}}()}),[O,m]);return Object(a.useEffect)((function(){N(),S(Ge()),t||(x(""),h(""))}),[t]),Object(H.jsx)(o.a,{sx:{display:"flex",flexDirection:"column",width:1,alignItems:"center"},children:Object(H.jsxs)(o.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:[Object(H.jsx)(ye.a,{disablePortal:!0,options:i.map((function(e){return e.empFullName})),renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Employee Name"}))},name:"Employee Name",onChange:function(e,t){if(t){h(t);var n=i.filter((function(e){return e.empFullName===t}));w(n),x(""),S(Ge())}},value:m,onInputChange:function(){h(""),x(""),S(Ge())},disabled:!t,sx:{width:"20rem",margin:"auto 1rem"}}),Object(H.jsx)(ye.a,{disablePortal:!0,options:y.map((function(e){return e.email})),renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Employee Email"}))},name:"Employee Email",onChange:function(e,t){if(t&&y){console.log(t),x(t);var n=y.filter((function(e){return e.email===t}));w(n)}},value:O,onInputChange:function(){x(""),S(Ge())},disabled:!m,sx:{width:"25rem",margin:"auto 1rem"}}),Object(H.jsx)(xe.a,{label:"Employee Status",value:O&&m?y[0].status:"",disabled:!0,sx:{width:"10rem",margin:"auto 1rem"}}),Object(H.jsx)(xe.a,{label:"Employee Date Of Birth",value:O&&m?y[0].dob:"",disabled:!0,sx:{width:"15rem",margin:"auto 1rem"}})]})})},ja=new Date,pa=new Date;ja.setFullYear(ja.getFullYear()-70,0,1),pa.setFullYear(pa.getFullYear()-18,0,1);var fa=function(e){var t=e.index,n=e.value,r=Object(we.c)((function(e){return e.searchEmployee.empValues})),i=r.email,c=r.branchId,s=Object(a.useState)(!1),l=Object(b.a)(s,2),h=l[0],j=l[1],p=Object(a.useState)(""),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)(!1),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(null),N=Object(b.a)(S,2),I=N[0],C=N[1],k=r.empId;Object(a.useEffect)((function(){i&&c?B():x("")}),[i,c]);var T=Oe.d({empId:Oe.c("Specify A Valid Employee Id").min(1,"Invalid Id").max(1e6,"Too Long!").required("Specify An Employee Id"),branchId:Oe.c("Specify A Branch Id").min(1,"Enter A Valid Branch Id").max(1e6,"Too Long").required("Branch Id Required"),basic:Oe.c("Enter Salary For This Employee").min(15e3,"Too Low For A Salary").required("Can't Work Without A Pay Day!"),travel:Oe.c("Enter Travel Allowance For This Employee").min(1e4,"Fuel Expenses Are High These Days").default(0).optional(),penaltyPerLeave:Oe.c("Enter A value").min(0,"Enter A Valid Value").max(1e4,"Too High For A Leave, Please Go Easy On This Employee").default(0),noLeavesBonus:Oe.c("Enter A value").min(0,"Enter A Valid Value").max(1e5,"Employee's Going To Love It,But Dont Go Higher Than This").default(1e4),vacayPerYear:Oe.c("Enter A Valid Value").min(7,"Everybody Want's A Break").max(50,"That's Too Long For A Vacation").required("Everybody Would Want To Have A Break"),leavesAllowed:Oe.c("Enter The Number Of Leaves Allowed Per Month").min(3,"Invalid Or Too Low").max(7,"That's Too Much, Keep It Less Than A Week").required("Emergency Leaves Are Necessary")}),A=Object(fe.a)({initialValues:{empId:"",branchId:"",basic:2e4,travel:1e4,penaltyPerLeave:1e3,noLeavesBonus:5e3,vacayPerYear:10,leavesAllowed:5},validationSchema:T,onSubmit:function(e){return D(e)}});Object(a.useEffect)((function(){A.setFieldValue("empId",k),A.setFieldValue("branchId",c)}),[c,k]),Object(a.useEffect)((function(){if(I){var e=Object.values(I),t=!Object.values(A.values).every((function(t){return Object.values(e).includes(t)}));console.log(t),w(!!t)}}),[A.values,I]);var B=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.get("/hr/salary/search/",{params:{email:i,branchId:c}});case 3:return n=e.sent,e.next=6,n.data.data;case 6:(a=e.sent)&&(t=a.isAvailable,j(t),a.rows&&(A.setValues(a.rows[0]),C(a.rows[0])),console.log(a.rows)),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,e.t0.response.data.data;case 14:(r=e.sent)&&(t=r.isAvailable,j(t));case 16:x(t?"Employee Salary Details Available":"Employee Salary Details Not Available\nConfigure Salary Details For This Employee");case 17:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.put("/hr/salary/addSalary/",t);case 3:return n=e.sent,e.next=6,n.data.data;case 6:a=e.sent,console.log("success"),console.log(a),e.next=18;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,e.t0.response.data.data;case 15:r=e.sent,console.log("error"),console.log(r);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A.handleSubmit()},style:{display:"flex",width:"100%",margin:"2rem auto",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60rem"},children:[Object(H.jsx)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",margin:"2rem auto",width:"100%"},children:Object(H.jsx)(m.a,{variant:"h4",component:"h3",children:"Customer Details"})}),Object(H.jsx)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",width:"90%"},children:Object(H.jsx)(o.a,{sx:{width:2/3,display:"flex",flexDirection:"column"},children:Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap"},children:[Object(H.jsx)(tn,{showBranchName:!0,container:{display:"flex",flexDirection:"row"},sx:{width:1,margin:"1rem"}}),Object(H.jsx)(ha,{}),Object(H.jsx)(ge,{label:"Leaves Without Pay-Cut(Per Month)",pHolder:"1",required:!0,type:"number",error:A.touched.leavesAllowed&&Boolean(A.errors.leavesAllowed),helper:A.touched.leavesAllowed&&A.errors.leavesAllowed,shrink:!0,value:A.values.leavesAllowed,onChange:A.handleChange,name:"leavesAllowed",sx:{width:.4,margin:"1rem"},defaultValue:0}),Object(H.jsx)(ge,{label:"Pay-Cut Deduction Per Leave",pHolder:"0",required:!0,type:"number",error:A.touched.penaltyPerLeave&&Boolean(A.errors.penaltyPerLeave),helper:A.touched.penaltyPerLeave&&A.errors.penaltyPerLeave,value:A.values.penaltyPerLeave,onChange:A.handleChange,name:"penaltyPerLeave",sx:{width:.4,margin:"1rem"},defaultValue:1e3}),Object(H.jsx)(ge,{label:"Vacation Per Year(days)",pHolder:"0",required:!0,type:"number",error:A.touched.vacayPerYear&&Boolean(A.errors.vacayPerYear),helper:A.touched.vacayPerYear&&A.errors.vacayPerYear,value:A.values.vacayPerYear,onChange:A.handleChange,name:"vacayPerYear",sx:{width:.4,margin:"1rem"},defaultValue:10}),Object(H.jsx)(ge,{label:"Base Salary",pHolder:"0",required:!0,type:"number",error:A.touched.basic&&Boolean(A.errors.basic),helper:A.touched.basic&&A.errors.basic,value:A.values.basic,onChange:A.handleChange,name:"basic",sx:{width:.4,margin:"1rem"},defaultValue:2e4}),Object(H.jsx)(ge,{label:"No Leaves Bonus Per Month",pHolder:"0",required:!0,type:"number",error:A.touched.noLeavesBonus&&Boolean(A.errors.noLeavesBonus),helper:A.touched.noLeavesBonus&&A.errors.noLeavesBonus,value:A.values.noLeavesBonus,onChange:A.handleChange,name:"noLeavesBonus",sx:{width:.4,margin:"1rem"},defaultValue:5e3}),Object(H.jsx)(ge,{label:"Travel Allowance",pHolder:"0",required:!0,type:"number",error:A.touched.travel&&Boolean(A.errors.travel),helper:A.touched.travel&&A.errors.travel,value:A.values.travel,onChange:A.handleChange,name:"travel",sx:{width:.4,margin:"1rem"},defaultValue:1e4}),Object(H.jsx)(m.a,{sx:{color:h?"green":"red"},component:"p",variant:"subtitle1",children:O})]})})}),Object(H.jsxs)(o.a,{children:[Object(H.jsx)(pe.a,{variant:"contained",disabled:!!h||!(!h&&i&&c),type:"submit",sx:{alignSelf:"center",top:"1rem",margin:"1rem"},children:" Add Salary Details"}),Object(H.jsx)(pe.a,{variant:"contained",disabled:!(i&&c&&y&&h),type:"submit",sx:{alignSelf:"center",top:"1rem",margin:"1rem"},children:"Save Settings"})]})]})},Oa=[{field:"id",headerName:"ID",align:"center",width:70},{field:"branchId",headerName:"Branch ID",type:"number",align:"center",width:200},{field:"firstName",headerName:"First Name",align:"center",width:200},{field:"lastName",headerName:"Last Name",align:"center",width:200},{field:"dob",headerName:"Date Of Birth",type:"date",align:"center",width:200},{field:"email",headerName:"Email",align:"center",width:300},{field:"status",headerName:"Employee Type",type:"number",align:"center",width:300},{field:"userName",headerName:"Username",align:"center",width:200},{field:"basic",headerName:"Basic Salary",align:"center",width:200},{field:"travel",headerName:"Travel Allowance",align:"center",width:200},{field:"penaltyPerLeave",headerName:"Pay-Cut Per Leave",align:"center",width:200},{field:"noLeavesBonus",headerName:"No Leaves Bonus(Per Month)",align:"center",width:200},{field:"vacayPerYear",headerName:"Vacation Per Year(Days)",align:"center",width:200},{field:"leavesAllowed",headerName:"Leaves Allowed Per Month",align:"center",width:200}],xa=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(b.a)(i,2),s=c[0],l=c[1],m=Object(a.useState)([]),h=Object(b.a)(m,2),p=h[0],f=h[1],O=Object(a.useState)(""),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)(""),w=Object(b.a)(y,2),S=w[0],N=w[1],I=Object(a.useState)(null),C=Object(b.a)(I,2),k=(C[0],C[1]),T=Object(a.useState)(!1),A=Object(b.a)(T,2),B=(A[0],A[1]),D=Object(a.useState)(!1),E=Object(b.a)(D,2),q=E[0],F=E[1],P=Object(we.c)((function(e){return e.branch.branchId})),R=Object(we.c)((function(e){return e.searchEmployee.empValues})),V=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,a=n.branchId,r=n.employeeId,k(r),e.prev=9,e.next=12,wt.get("/manage/employee/searchEmployee/",{params:{branchId:a}});case 12:return i=e.sent,e.next=15,i.data.data;case 15:return c=e.sent,e.next=18,c.isAvailable;case 18:if(!(s=e.sent)){e.next=25;break}return e.next=22,c.rows;case 22:o=e.sent,l(o),f(o);case 25:B(s),e.next=35;break;case 28:return e.prev=28,e.t0=e.catch(9),e.next=32,e.t0.response.data.data;case 32:d=e.sent,d.isAvailable;case 35:case"end":return e.stop()}}),e,null,[[9,28]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=18;break}return e.prev=1,e.next=4,wt.get("/manage/employee/searchEmployee/",{params:Object(j.a)({},t)});case 4:return n=e.sent,e.next=7,n.data.data;case 7:a=e.sent,r=a.isAvailable,i=a.rows,r?(l(i),B(!0)):(l([]),B(!1)),console.log(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),e.t0.response.data.data.isAvailable||(l([]),B(!1));case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){F(""!==g||""!==S),R.branchId&&R.email||""!=g||""!=S||(l(p),B(!0))}),[g,S,R]),Object(a.useEffect)((function(){if(R.branchId&&R.email){var e,t=(e={firstName:R.empFName||"",lastName:R.empLName||"",dob:R.dob,empType:R.status},Object(K.a)(e,"dob",R.dob),Object(K.a)(e,"branchId",R.branchId),e);L(t)}else if(""!==g||""!==S){L({firstName:g||"",lastName:S||"",branchId:P})}}),[R,g,S]),Object(a.useEffect)((function(){V()}),[]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"1rem 2rem",width:1},children:[Object(H.jsx)(tn,{showBranchName:!0,container:{display:"flex",flexDirection:"row"},sx:{width:"15rem",margin:"1rem"}}),Object(H.jsx)(ge,{label:"Search By First Name",type:"text",value:g,onChange:function(e){v(e.target.value),F(!0)},name:"roomNo",sx:{width:"20rem",margin:"1rem 2rem"},disabled:!(P&&!Boolean(Object.values(R)[0])),margin:"none"}),Object(H.jsx)(ge,{label:"Search By Last Name",type:"text",value:S,onChange:function(e){N(e.target.value),F(!0)},name:"roomNo",sx:{width:"20rem",margin:"1rem 2rem"},disabled:!(P&&!Boolean(Object.values(R)[0])),margin:"none"}),!q&&Object(H.jsx)(ha,{})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:s,columns:Oa,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0})})})]})},ga=n(650),va=n(669),ya=n(662),wa=new Date,Sa=new Date;wa.setFullYear(wa.getFullYear()-70,0,1),Sa.setFullYear(Sa.getFullYear()-18,0,1);var Na=function(e){var t=e.index,n=e.value,r=(e.width,Object(a.useState)("")),i=Object(b.a)(r,2),c=i[0],s=i[1],l=Object(a.useState)(""),h=Object(b.a)(l,2),j=(h[0],h[1],Object(we.c)((function(e){return e.branch.branchId}))),f=Object(a.useState)(!1),O=Object(b.a)(f,2),x=O[0],g=O[1],v=Object(a.useState)(""),y=Object(b.a)(v,2),w=y[0],S=y[1],N=Object(a.useState)(!1),I=Object(b.a)(N,2),C=I[0],k=I[1],T=Oe.d({branch:Oe.f("Select A Branch Id").min(2,"Too Short!").max(60,"Too Long!").required("Required"),roomNo:Oe.c("Enter A Room Number").max(1e3,"Room Number Seems Too Long").required("Room Number Is Required"),roomType:Oe.f("Select Or Specify A Room Type").min(4,"Too Short").required("Room Type Is Required"),minAdults:Oe.c("Enter A Number").min(1,"Enter A Valid Number").max(5,"Enter A Realistic Number").default(1),minChildren:Oe.c("Enter A Number").min(0,"Enter A Valid Number").max(5,"Enter A Realistic Number").default(0),beds:Oe.c("Enter A Number").min(1,"Enter A Valid Number").max(3,"Enter A Realistic Number").default(1),price:Oe.c("Enter A Number").min(0,"Enter A Value")}),A=Object(fe.a)({initialValues:{branch:"",roomNo:"",roomType:"",minAdults:1,minChildren:0,price:"",beds:""},validationSchema:T,onSubmit:function(e){return D(e)}});Object(a.useEffect)((function(){A.setFieldValue("branch",j)}),[j]);var B=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=A.values.branch,n=A.values.roomType,a=A.values.minAdults,r=A.values.minChildren,i=A.values.price,c=A.values.beds,!(t&&n&&a&&r&&c)){e.next=29;break}return s={branch:t,roomType:n,minAdults:a,minChildren:r,price:i,beds:c},console.log(s),e.prev=9,e.next=12,wt.get("/manage/room/get/",{params:s});case 12:return o=e.sent,e.next=15,o.data.data.isRoomType;case 15:e.sent&&(k(!1),S("Room Type Is Available")),g(!0),e.next=27;break;case 20:e.prev=20,e.t0=e.catch(9),l=e.t0.response.data.data,(d=l.isRoomType)||(k(!0),S("Room Type Is Not Available\nNew Room Type Will Be Created")),g(!0),console.log(d);case 27:e.next=30;break;case 29:g(!1);case 30:case"end":return e.stop()}}),e,null,[[9,20]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){B()}),[A.values.price,A.values.branch,A.values.roomType,A.values.minAdults,A.values.minChildren,A.values.rooms]),Object(a.useEffect)((function(){x||A.setFieldValue("roomNo","")}),[x]);var D=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wt.post("/manage/room/create/",t);case 3:1==(n=e.sent).data.status&&(a=n.data.message,S("Room Creation Success"),setTimeout((function(){return S(a)}),1e3),setTimeout((function(){return S("")}),2e3),k(!1),console.log(A.values)),console.log(n.data.status),e.next=16;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.response.data.message,S("Room Creation Failed"),k(!0),setTimeout((function(){return S(r)}),1e3),setTimeout((function(){return S("")}),2e3),console.log(e.t0.response.data.status);case 16:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),A.handleSubmit()},style:{display:"flex",minHeight:"20rem",margin:"10% auto",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},children:[Object(H.jsxs)(o.a,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-evenly"},children:[Object(H.jsxs)(o.a,{sx:{width:"50%"},children:[Object(H.jsx)(o.a,{sx:{margin:"1rem",width:1,display:"flex",justifyContent:"space-evenly"},children:Object(H.jsxs)(ga.a,{component:"div",sx:{width:1,margin:"1rem"},children:["Room Type",Object(H.jsxs)(va.a,{"aria-label":"gender",name:"roomType",value:c,onChange:function(e){var t=e.target.value;s(e.target.value),"other"!==t?A.setFieldValue("roomType",e.target.value):A.setFieldValue("roomType","")},row:!0,sx:{width:1,margin:"1rem 0"},children:[Object(H.jsx)(Rn.a,{value:"normal",sx:{margin:"0 2rem"},control:Object(H.jsx)(ya.a,{}),label:"Normal"}),Object(H.jsx)(Rn.a,{value:"deluxe",sx:{margin:"0 2rem"},control:Object(H.jsx)(ya.a,{}),label:"Deluxe"}),Object(H.jsx)(Rn.a,{value:"other",sx:{margin:"0 2rem"},control:Object(H.jsx)(ya.a,{}),label:"Other"}),"other"===c&&Object(H.jsx)(ge,{label:"Type",pHolder:"normal",required:!0,type:"text",shrink:!0,value:A.values.roomType,onChange:function(e){A.setFieldValue("roomType",e.target.value)},name:"otherRoom"})]}),A.touched.roomType&&Boolean(A.errors.roomType)&&Object(H.jsx)(m.a,{component:"p",variant:"caption",sx:{color:"red"},children:A.touched.roomType&&A.errors.roomType})]})}),Object(H.jsx)(ge,{label:"Number Of Beds",pHolder:"1",required:!0,type:"number",error:A.touched.beds&&Boolean(A.errors.beds),helper:A.touched.beds&&A.errors.beds,shrink:!0,value:A.values.beds,onChange:A.handleChange,name:"beds"}),Object(H.jsx)(ge,{label:"Minimum Number Of Adults",pHolder:"1",required:!0,type:"number",error:A.touched.minAdults&&Boolean(A.errors.minAdults),helper:A.touched.minAdults&&A.errors.minAdults,shrink:!0,value:A.values.minAdults,onChange:A.handleChange,name:"minAdults"}),Object(H.jsx)(ge,{label:"Minimum Number Of Childrens",pHolder:"0",required:!0,type:"number",error:A.touched.minChildren&&Boolean(A.errors.minChildren),helper:A.touched.minChildren&&A.errors.minChildren,value:A.values.minChildren,onChange:A.handleChange,name:"minChildren"}),Object(H.jsx)(ge,{label:"Price",pHolder:"0",required:!0,type:"number",error:A.touched.price&&Boolean(A.errors.price),helper:A.touched.price&&A.errors.price,value:A.values.price,onChange:A.handleChange,name:"price"})]}),Object(H.jsx)(p.a,{flexItem:!0,variant:"fullWidth",orientation:"vertical"}),Object(H.jsxs)(o.a,{sx:{width:"30%",display:"flex",flexDirection:"column",minHeight:"20rem",justifyContent:"center"},children:[Object(H.jsx)(tn,{errors:A.touched.branch&&Boolean(A.errors.branch),helpers:A.touched.branch&&A.errors.branch}),x&&Object(H.jsx)(ge,{label:"Room Number",pHolder:"XXXXX",required:!0,type:"number",error:A.touched.roomNo&&Boolean(A.errors.roomNo),helper:A.touched.roomNo&&A.errors.roomNo,shrink:!0,value:A.values.roomNo,onChange:A.handleChange,name:"roomNo"})]})]}),Object(H.jsxs)(o.a,{sx:{width:1,display:"flex",justifyContent:"space-around",flexDirection:"column",alignItems:"center",margin:"5rem 0"},children:[Object(H.jsx)(m.a,{sx:{color:C?"red":"green"},children:w}),Object(H.jsx)(pe.a,{variant:"contained",type:"submit",sx:{width:.4,margin:"2rem 0",transform:"translateX(0%)",bottom:"0"},children:"Add Room"})]})]})},Ia=[{field:"id",headerName:"ID",align:"center",width:70},{field:"roomNo",headerName:"Room Number",type:"number",align:"center",width:200},{field:"isBooked",headerName:"Booked",align:"center",width:200},{field:"type",headerName:"Room Type",align:"center",width:200},{field:"pricePerNight",headerName:"Price Per Night",type:"number",align:"center",width:200},{field:"minAdults",headerName:"Minimum Number Of Adults",type:"date",align:"center",width:300},{field:"minChildren",headerName:"Minimum Number Of Children",type:"number",align:"center",width:300},{field:"branchId",headerName:"Branch ID",align:"center",width:200},{field:"location",headerName:"Location",align:"center",width:200},{field:"roomStatus",headerName:"Room Status",sortable:!1,width:200,valueGetter:function(e){return 0==e.row.isBooked?"Open":"Booked"}}],Ca=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(b.a)(i,2),s=c[0],l=c[1],m=Object(a.useState)([]),h=Object(b.a)(m,2),j=(h[0],h[1]),p=Object(a.useState)(!1),f=Object(b.a)(p,2),O=(f[0],f[1]),x=Object(a.useState)(""),g=Object(b.a)(x,2),v=g[0],y=g[1],w=Object(a.useState)(null),S=Object(b.a)(w,2),N=S[0],I=S[1],C=Object(we.c)((function(e){return e.branch.branchId})),k=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,d,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return t=e.sent,e.next=5,JSON.parse(t);case 5:return n=e.sent,a=n.branchId,r=n.employeeId,I(r),e.prev=9,e.next=12,wt.get("/manage/room/getAll/",{params:{employeeId:r,branchId:a||null}});case 12:return i=e.sent,e.next=15,i.data.data;case 15:return c=e.sent,e.next=18,c.isRoom;case 18:if(!(s=e.sent)){e.next=25;break}return e.next=22,c.rows;case 22:o=e.sent,l(o),j(o);case 25:O(s),e.next=35;break;case 28:return e.prev=28,e.t0=e.catch(9),e.next=32,e.t0.response.data.data;case 32:d=e.sent,(b=d.isRoom)||O(b);case 35:case"end":return e.stop()}}),e,null,[[9,28]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(u.a.mark((function e(t,n){var a,r,i,c,s,o,d=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>2&&void 0!==d[2]?d[2]:null,e.prev=1,e.next=4,wt.get("/manage/room/getFilter/",{params:{employeeId:n,branchId:t,roomNo:a}});case 4:return r=e.sent,e.next=7,r.data.data;case 7:i=e.sent,c=i.isRoom,s=i.rows,l(c?s:[]),O(c),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(1),o=e.t0.response.data.data.isRoom,O(o),o||l([]);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){C&&N&&T(C,N,v)}),[v,C]),Object(a.useEffect)((function(){k()}),[]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",margin:"1rem 2rem",width:1},children:[Object(H.jsx)(tn,{showBranchName:!1,sx:{width:"20rem",margin:"1rem 2rem"}}),Object(H.jsx)(ge,{label:"Search By Room Number",pHolder:"0",type:"number",value:v,onChange:function(e){return y(e.target.value)},name:"roomNo",sx:{width:"20rem",margin:"1rem 2rem"},disabled:!C,margin:"none"})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:s,columns:Ia,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0})})}),Object(H.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:s&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"button",size:"large",sx:{marginRight:1},disabled:!(s.length>0),children:Object(H.jsx)(zt.CSVLink,{data:s,style:{textDecoration:"none",color:"white"},children:"Download Table"})})})]})},ka=n(186),Ta=new Date,Aa=new Date;Ta.setFullYear(Ta.getFullYear()-70,0,1),Aa.setFullYear(Aa.getFullYear()-18,0,1);var Ba=function(e){var t=e.index,n=e.value,r=e.width,i=Object(a.useState)("employee"),c=Object(b.a)(i,2),s=(c[0],c[1],Object(we.c)((function(e){return e.branch.branchId}))),l=Object(a.useState)(!1),h=Object(b.a)(l,2),j=h[0],f=h[1],O=Object(a.useState)(""),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(a.useState)(!1),w=Object(b.a)(y,2),S=(w[0],w[1],Oe.d({fName:Oe.f("Enter Your First Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),lName:Oe.f("Enter Your Last Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),userName:Oe.f("Enter Your User Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),dob:Oe.b("Enter Your Date Of Birth").min(Ta,"Too Old").max(Aa,"Too Young").required("Date Of Birth Required"),pass:Oe.f("Enter A Password").min(7,"Too Short").required("Enter A Password"),confirmPass:Oe.f("Enter A Same Password").oneOf([Oe.e("pass"),null],"Passwords Must Match").required("Required Field & Passwords Must Match"),empType:Oe.f("Select One Of These Options").oneOf(["Manager","Assistant Manager","HR Staff","Employee"],"Invalid Value").required("Select One Of These Options"),email:Oe.f("Enter An Email Address").email("Enter A Valid Email Address").required("Email Is Missing")})),N=Object(fe.a)({initialValues:{fName:"",lName:"",userName:"",dob:"",pass:"",confirmPass:"",empType:"",email:""},validationSchema:S,onSubmit:function(e){return C(e)},enableReinitialize:!0,validateOnMount:!0}),I=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={firstName:N.values.fName,lastName:N.values.lName,dob:N.values.dob,email:N.values.email,branchId:s,empType:N.values.empType},e.prev=1,e.next=4,wt.get("/manage/employee/searchEmployee/",{params:t});case 4:return a=e.sent,e.next=7,a.data.data.isAvailable;case 7:"boolean"===typeof(n=e.sent)&&f(n),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.response.data),"boolean"===typeof(n=e.t0.response.data.data.isAvailable)&&f(n);case 16:v(n?"Employee Already Registered Or Details Have Been Already Taken":"Employee Not Registered");case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=N.errors.empType,t=N.errors.fName,n=N.errors.lName,a=N.errors.dob,r=N.errors.email;!e&&!t&!n&&!a&&!r?I():(f(!1),v(""))}),[N.values]);var C=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.localStorage.getItem("@user");case 2:return n=e.sent,e.next=5,JSON.parse(n);case 5:return a=e.sent,r=a.employeeId,i={firstName:t.fName,lastName:t.lName,dob:t.dob,email:t.email,branchId:s,employeeType:t.empType,userName:t.userName,password:t.pass,confirmPassword:t.confirmPass,employeeId:r},e.prev=8,e.next=11,wt.post("/manage/employee/register/",i);case 11:return c=e.sent,e.next=14,c.data.data;case 14:o=e.sent,console.log(o),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(8),l=e.t0.response.data,console.log(l);case 22:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t){return e.apply(this,arguments)}}();return console.log(j),t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),N.handleSubmit()},style:Object(K.a)({display:"flex",width:r,minHeight:"20rem",margin:"10% auto",flexDirection:"column",alignItems:"center",justifyContent:"center"},"width","80%"),children:[Object(H.jsxs)(o.a,{sx:{width:1,display:"flex",flexDirection:"row",justifyContent:"space-evenly"},children:[Object(H.jsxs)(o.a,{children:[Object(H.jsx)(ka.a,{component:"fieldset",children:Object(H.jsxs)(va.a,{name:"empType",value:N.values.empType,onChange:N.handleChange,row:!0,sx:{display:"flex",justifyContent:"center"},children:[Object(H.jsx)(Rn.a,{value:"Employee",control:Object(H.jsx)(ya.a,{}),label:"Employee"}),Object(H.jsx)(Rn.a,{value:"HR Staff",control:Object(H.jsx)(ya.a,{}),label:"HR Staff"}),Object(H.jsx)(Rn.a,{value:"Assistant Manager",control:Object(H.jsx)(ya.a,{}),label:"Assistant Manager"}),Object(H.jsx)(Rn.a,{value:"Manager",control:Object(H.jsx)(ya.a,{}),label:"Manager"})]})}),Object(H.jsx)(tn,{showBranchName:!0,sx:{width:1}}),Object(H.jsx)(ge,{label:"First Name",pHolder:"John",required:!0,type:"text",error:N.touched.fName&&Boolean(N.errors.fName),helper:N.touched.fName&&N.errors.fName,value:N.values.fName,onChange:N.handleChange,name:"fName"}),Object(H.jsx)(ge,{label:"Last Name",pHolder:"Doe",required:!0,type:"text",error:N.touched.lName&&Boolean(N.errors.lName),helper:N.touched.lName&&N.errors.lName,value:N.values.lName,onChange:N.handleChange,name:"lName"}),Object(H.jsx)(ge,{label:"Date Of Birth",pHolder:"1995-05-05",required:!0,type:"date",error:N.touched.dob&&Boolean(N.errors.dob),helper:N.touched.dob&&N.errors.dob,shrink:!0,value:N.values.dob,onChange:N.handleChange,name:"dob"}),Object(H.jsx)(ge,{label:"Email",pHolder:"XXXXX",required:!0,type:"text",error:N.touched.email&&Boolean(N.errors.email),helper:N.touched.email&&N.errors.email,shrink:!0,value:N.values.email,onChange:N.handleChange,name:"email"}),Object(H.jsx)(m.a,{sx:{color:j?"red":"green"},children:g})]}),Object(H.jsx)(p.a,{orientation:"vertical",flexItem:!0,variant:"fullWidth"}),Object(H.jsx)(o.a,{sx:{alignSelf:"center"},children:!j&&Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ge,{label:"User Name",pHolder:"doe",required:!0,type:"text",error:N.touched.userName&&Boolean(N.errors.userName),helper:N.touched.userName&&N.errors.userName,value:N.values.userName,onChange:N.handleChange,name:"userName",defaultValue:""}),Object(H.jsx)(ge,{label:"Password",pHolder:"********",required:!0,type:"password",error:N.touched.pass&&Boolean(N.errors.pass),helper:N.touched.pass&&N.errors.pass,value:N.values.pass,onChange:N.handleChange,name:"pass",defaultValue:""}),Object(H.jsx)(ge,{label:"Confirm Password",pHolder:"********",required:!0,type:"password",error:N.touched.confirmPass&&Boolean(N.errors.confirmPass),helper:N.touched.confirmPass&&N.errors.confirmPass,value:N.values.confirmPass,onChange:N.handleChange,name:"confirmPass"})]})})]}),Object(H.jsx)(o.a,{sx:{width:.8,display:"flex",margin:"2rem auto",flexDirection:"row-reverse"},children:Object(H.jsx)(pe.a,{variant:"contained",type:"submit",disabled:j,children:"Add Employee"})})]})},Da=function(e){var t=e.errors,n=e.helpers,r=e.sx,i=Object(a.useState)([]),c=Object(b.a)(i,2),s=c[0],o=c[1],l=Object(we.b)(),u=Object(we.c)((function(e){return e.gLocation.query}));return Object(a.useEffect)((function(){u&&function(e){(new window.google.maps.places.AutocompleteService).getPlacePredictions(Object(j.a)({input:e},{types:["(cities)"],componentRestrictions:{country:["LK"]}}),(function(e,t){if(t==window.google.maps.places.PlacesServiceStatus.OK&&e){var n=e.map((function(e){return e.description}));o(n)}}))}(u)}),[u]),Object(a.useEffect)((function(){!function(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,document.getElementsByTagName("head")[0].appendChild(t)}("https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyC48Lmn6gCKZwoepb636H7ET6ohZm8rQPw","&libraries=places&callback=initMap"))}),[]),console.log(u),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(ye.a,{freeSolo:!0,disableClearable:!0,options:s,renderInput:function(e){return Object(H.jsx)(xe.a,Object(j.a)(Object(j.a)({},e),{},{label:"Location",name:"location",InputProps:Object(j.a)(Object(j.a)({},e.InputProps),{},{type:"search"})}))},onInputChange:function(e,t){l(t?Ot(t):Ot())},onChange:function(e,t){l(Ot(t))},inputValue:u,loading:!s,value:u,label:"Location",name:"location",sx:r}),t&&Object(H.jsx)(m.a,{color:"red",children:n})]})},Ea=new Date,qa=new Date;Ea.setFullYear(Ea.getFullYear()-70,0,1),qa.setFullYear(qa.getFullYear()-18,0,1);var Fa=function(e){var t=e.index,n=e.value,r=e.width,i=Object(we.c)((function(e){return e.gLocation.query})),c=Object(a.useState)(""),s=Object(b.a)(c,2),o=s[0],l=s[1],h=Oe.d({branchName:Oe.f("Enter Branch Name").min(2,"Too Short!").max(60,"Too Long!").required("Required"),location:Oe.f("Enter Branch Location").required("Required"),empId:Oe.f("Enter An NIC ID Or Passport ID").min(1,"Too Short").required("Enter An NIC ID Or Passport ID")}),j=Object(fe.a)({initialValues:{branchName:"",location:"",empId:""},validationSchema:h,onSubmit:function(e){return p(e)}});Object(a.useEffect)((function(){var e=window.localStorage.getItem("@user"),t=JSON.parse(e).employeeId;j.setFieldValue("empId",t)}),[]),Object(a.useEffect)((function(){j.setFieldValue("location",i)}),[i]);var p=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,i,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j.values.empId){e.next=20;break}return e.prev=1,e.next=4,wt.post("/branch/create/",t);case 4:return n=e.sent,e.next=7,n.data;case 7:return a=e.sent,e.next=10,a.message;case 10:r=e.sent,a.data.isSuccess,l(r),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),i=e.t0.response.data,c=i.message,l(c);case 20:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return t!==n?null:Object(H.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.handleSubmit()},style:Object(K.a)({display:"flex",width:r,minHeight:"20rem",margin:"10% auto",flexDirection:"column",alignItems:"center",justifyContent:"space-evenly"},"width","80%"),children:[Object(H.jsx)(ge,{label:"Branch Name",pHolder:"XXXXX",required:!0,type:"text",error:j.touched.branchName&&Boolean(j.errors.branchName),helper:j.touched.branchName&&j.errors.branchName,shrink:!0,value:j.values.branchName,onChange:j.handleChange,name:"branchName",sx:{width:.6}}),Object(H.jsx)(Da,{errors:j.touched.location&&Boolean(j.errors.location),helpers:j.touched.location&&j.errors.location,sx:{width:.6}}),Object(H.jsxs)(m.a,{component:"h4",variant:"body1",children:[o," "]}),Object(H.jsx)(pe.a,{variant:"contained",type:"submit",children:"Add Branch"})]})},Pa=[{field:"id",headerName:"ID",align:"center",width:250,headerAlign:"center"},{field:"branchName",headerName:"Branch Name",align:"center",width:400,headerAlign:"center"},{field:"location",headerName:"Branch Location",type:"number",align:"center",width:400,headerAlign:"center"}],Ra=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),c=Object(b.a)(i,2),s=c[0],l=c[1],m=Object(a.useState)(""),h=Object(b.a)(m,2),j=(h[0],h[1]),p=Object(a.useState)(""),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)(""),v=Object(b.a)(g,2),y=v[0],w=v[1],S=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:"",e.prev=2,e.next=5,wt.get("/branch/getAll/",{params:{branchName:t,location:n}});case 5:return a=e.sent,e.next=8,a.data;case 8:r=e.sent,i=r.data,l(i),j(r.message),setTimeout((function(){return j("")}),2e3),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),c=e.t0.response.data,l([]),j(c.message),setTimeout((function(){return j("")}),2e3);case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){S(O,y)}),[O,y]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginBottom:"2rem"},children:[Object(H.jsx)(ge,{label:"Search By Branch Name",pHolder:"0",type:"text",value:O,onChange:function(e){return x(e.target.value)},name:"branchName",margin:"none",sx:{margin:"1rem"}}),Object(H.jsx)(ge,{label:"Search By Branch Location",pHolder:"0",type:"text",value:y,onChange:function(e){return w(e.target.value)},name:"location",margin:"none",sx:{margin:"1rem"}})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"80vh",minWidth:"50%",margin:"auto"},children:Object(H.jsx)(On.a,{rows:s,columns:Pa,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0,sx:{fontSize:20}})})})]})},Va=[{headerAlign:"center",field:"id",headerName:"ID",align:"center",width:200},{headerAlign:"center",field:"branchName",headerName:"Branch Name",align:"center",width:350},{headerAlign:"center",field:"location",headerName:"Branch Location",type:"number",align:"center",width:350},{headerAlign:"center",field:"parsedDate",headerName:"Date",align:"center",width:250,valueGetter:function(e){return e.row.date?new Date(e.row.date).toLocaleDateString():null}},{headerAlign:"center",field:"date",headerName:"Date",type:"date",align:"center",width:150,hide:!0},{headerAlign:"center",field:"income",headerName:"Income",type:"number",align:"center",width:300},{headerAlign:"center",field:"expense",headerName:"Expense",type:"number",align:"center",width:300}],La=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),c=Object(b.a)(i,2),s=(c[0],c[1],Object(a.useState)("")),l=Object(b.a)(s,2),m=l[0],h=l[1],j=Object(a.useState)(""),p=Object(b.a)(j,2),f=(p[0],p[1]),O=Object(a.useState)([]),x=Object(b.a)(O,2),g=x[0],v=x[1],y=Object(we.c)((function(e){return e.branch.branchId})),w=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,l,d=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:"",n=d.length>1&&void 0!==d[1]?d[1]:"",e.prev=2,e.next=5,wt.get("/stats/getBar/",{params:{branchId:t,date:n}});case 5:return a=e.sent,e.next=8,a.data;case 8:r=e.sent,i=r.message,f(i),c=r.data.isAvailable,s=r.data.rows,c?(s=s.filter((function(e,t,n){return t===n.findIndex((function(t){return e.id===t.id}))})),v(Object(qt.a)(new Set(s)))):v([]),e.next=26;break;case 16:return e.prev=16,e.t0=e.catch(2),e.next=20,e.t0.response.data;case 20:return o=e.sent,e.next=23,o.message;case 23:l=e.sent,f(l),v([]);case 26:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){w(y,m)}),[y,m]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(H.jsx)(ge,{id:"date",label:"Search By Date",type:"date",InputLabelProps:{shrink:!0},name:"date",shrink:!0,onChange:function(e){return h(e.target.value)},value:m,margin:"normal",sx:{padding:2,width:.2},variant:"standard",focused:!0,fullwidth:!1}),Object(H.jsx)(tn,{container:{display:"flex"},sx:{margin:"1rem",width:"25rem"}})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:g,columns:Va,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0,sx:{fontSize:20}})})}),Object(H.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:g&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"button",size:"large",sx:{marginRight:1},disabled:!(g.length>0),children:Object(H.jsx)(zt.CSVLink,{data:g,style:{textDecoration:"none",color:"white"},children:"Download Table"})})})]})},Ma=[{headerAlign:"center",field:"id",headerName:"ID",align:"center",width:200},{headerAlign:"center",field:"firstName",headerName:"First Name",align:"center",width:350},{headerAlign:"center",field:"lastName",headerName:"Last Name",align:"center",width:350},{headerAlign:"center",field:"email",headerName:"Email",align:"center",width:350},{headerAlign:"center",field:"parsedDate",headerName:"Date Of Birth",align:"center",width:250,valueGetter:function(e){return e.row.dob?new Date(e.row.dob).toLocaleDateString():null}},{headerAlign:"center",field:"status",headerName:"Level",align:"center",width:350},{headerAlign:"center",field:"dob",headerName:"Date",type:"date",align:"center",width:150,hide:!0}],Ha=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(b.a)(i,2),s=c[0],l=c[1],m=Object(a.useState)(""),h=Object(b.a)(m,2),j=(h[0],h[1]),p=Object(a.useState)([]),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(a.useState)(!0),N=Object(b.a)(S,2),I=N[0],C=N[1],k=Object(we.c)((function(e){return e.branch.branchId})),T=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,l,d,b,m=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:"",n=m.length>1&&void 0!==m[1]?m[1]:"",e.prev=2,e.next=5,wt.get("/hr/attendance/getStats/",{params:{branchId:t,date:n}});case 5:return a=e.sent,e.next=8,a.data;case 8:r=e.sent,i=r.message,j(i),c=r.data.isSuccess,s=r.data.data,o=s.attendees,l=s.absentees,c?(o=o.filter((function(e,t,n){return t===n.findIndex((function(t){return e.id===t.id}))})),l=l.filter((function(e,t,n){return t===n.findIndex((function(t){return e.id===t.id}))})),w(l),x(o)):(w([]),x([])),e.next=29;break;case 18:return e.prev=18,e.t0=e.catch(2),e.next=22,e.t0.response.data;case 22:return d=e.sent,e.next=25,d.message;case 25:b=e.sent,j(b),w([]),x([]);case 29:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){T(k,s)}),[k,s]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(H.jsx)(Rn.a,{control:Object(H.jsx)(Vn.a,{checked:I,onChange:function(){return C(!I)}}),label:I?"Attendees":"Absentess",labelPlacement:"start",sx:{margin:"1rem",justifySelf:"flex-start"}}),Object(H.jsx)(ge,{id:"date",label:"Search By Date",type:"date",InputLabelProps:{shrink:!0},name:"date",shrink:!0,onChange:function(e){return l(e.target.value)},value:s,margin:"normal",sx:{padding:2,width:.2},variant:"standard",focused:!0,fullwidth:!1}),Object(H.jsx)(tn,{container:{display:"flex"},sx:{margin:"1rem",width:"25rem"}})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:I?O:y,columns:Ma,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0,sx:{fontSize:20}})})})]})},Ya=[{headerAlign:"center",field:"id",headerName:"ID",align:"center",width:200},{headerAlign:"center",field:"income",headerName:"Income",align:"center",width:350},{headerAlign:"center",field:"expense",headerName:"Expense",align:"center",width:350},{headerAlign:"center",field:"parsedDate",headerName:"Date",align:"center",width:250,valueGetter:function(e){return e.row.date?new Date(e.row.date).toLocaleDateString():null}},{headerAlign:"center",field:"date",headerName:"Date",type:"date",align:"center",width:150,hide:!0},{headerAlign:"center",field:"description",headerName:"Description",align:"center",width:600}],za=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(b.a)(i,2),s=c[0],l=c[1],m=Object(a.useState)(""),h=Object(b.a)(m,2),j=(h[0],h[1]),p=Object(a.useState)(""),f=Object(b.a)(p,2),O=f[0],x=f[1],g=Object(a.useState)([]),v=Object(b.a)(g,2),y=v[0],w=v[1],S=Object(we.c)((function(e){return e.branch.branchId})),N=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r,i,c,s,o,l,d,b=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.length>0&&void 0!==b[0]?b[0]:"",n=b.length>1&&void 0!==b[1]?b[1]:"",a=b.length>2&&void 0!==b[2]?b[2]:"",e.prev=3,e.next=6,wt.get("/stats/getIncome/",{params:{branchId:t,date:n,description:a}});case 6:return r=e.sent,e.next=9,r.data;case 9:i=e.sent,c=i.message,j(c),s=i.data.isAvailable,o=i.data.rows,s?(o=o.filter((function(e,t,n){return t===n.findIndex((function(t){return e.id===t.id}))})),w(o)):w([]),e.next=27;break;case 17:return e.prev=17,e.t0=e.catch(3),e.next=21,e.t0.response.data;case 21:return l=e.sent,e.next=24,l.message;case 24:d=e.sent,j(d),w([]);case 27:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){N(S,s,O)}),[S,s,O]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-evenly",alignItems:"center"},children:[Object(H.jsx)(ge,{id:"date",label:"Search By Date",type:"date",InputLabelProps:{shrink:!0},name:"date",shrink:!0,onChange:function(e){return l(e.target.value)},value:s,margin:"normal",sx:{padding:2,width:.2},variant:"standard",focused:!0,fullwidth:!1}),Object(H.jsx)(tn,{container:{display:"flex"},sx:{margin:"1rem",width:"25rem"}}),Object(H.jsx)(ge,{id:"description",label:"Search By Description",type:"text",InputLabelProps:{shrink:!0},name:"description",shrink:!0,onChange:function(e){return x(e.target.value)},value:O,margin:"normal",sx:{padding:2,width:.2},variant:"standard",focused:!0,fullwidth:!1})]}),Object(H.jsx)("div",{style:{display:"flex"},children:Object(H.jsx)("div",{style:{height:"70vh",width:"100%"},children:Object(H.jsx)(On.a,{rows:y,columns:Ya,checkboxSelection:!0,disableColumnFilter:!0,onSelectionModelChange:function(){return r(arguments.length<=0?void 0:arguments[0])},isRowSelectable:function(e){return!(n.length>1)},autoPageSize:!0,sx:{fontSize:20}})})}),Object(H.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",height:"4rem",marginLeft:"1rem"},children:y&&Object(H.jsx)(pe.a,{variant:"contained",color:"primary",type:"button",size:"large",sx:{marginRight:1},disabled:!(y.length>0),children:Object(H.jsx)(zt.CSVLink,{data:y,style:{textDecoration:"none",color:"white"},children:"Download Table"})})})]})},Xa=function(e){var t=e.text,n=e.subText;return console.log(n),Object(H.jsx)(o.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",width:1,height:"80vh",backgroundColor:"#081627",color:"white"},children:Object(H.jsxs)(o.a,{sx:{display:"flex",justifyContent:"space-around",alignItems:"center"},children:[Object(H.jsx)(Qn.a,{sx:{fontSize:100}}),Object(H.jsxs)(o.a,{children:[Object(H.jsx)(m.a,{component:"h2",variant:"h2",children:t}),n&&Object(H.jsx)(m.a,{component:"h4",variant:"h5",children:n})]})]})})},Wa=function(e){var t=e.children,n=M().userData;return n.userId&&n.employeeId?Object(H.jsx)(H.Fragment,{children:t}):Object(H.jsx)(Xa,{text:"Seems like Your Not Authorized...."})};var Ua=function(){return Object(H.jsx)(we.a,{store:gt,children:Object(H.jsx)(vt.a,{theme:Q,children:Object(H.jsx)(St,{children:Object(H.jsx)(R.d,{children:Object(H.jsxs)(R.b,{element:Object(H.jsx)(qe,{}),children:[Object(H.jsx)(R.b,{path:"/",element:Object(H.jsx)(Ee,{})}),Object(H.jsxs)(R.b,{path:"/protected",element:Object(H.jsx)(Wa,{children:Object(H.jsx)(he,{})}),children:[Object(H.jsxs)(R.b,{path:"CustomerHandling",element:Object(H.jsx)(Nt,{}),children:[Object(H.jsx)(R.b,{path:"CustomerInquiry",element:Object(H.jsx)(kn,{})}),Object(H.jsx)(R.b,{path:"CustomerRegistration",element:Object(H.jsx)(En,{width:"40%"})}),Object(H.jsx)(R.b,{path:"InHotelCustomers",element:Object(H.jsx)(Pn,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(nn,{})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(nn,{})})]}),Object(H.jsxs)(R.b,{path:"PaymentsAndServices",element:Object(H.jsx)(It,{}),children:[Object(H.jsx)(R.b,{path:"ReserveRoom",element:Object(H.jsx)(Jn,{})}),Object(H.jsx)(R.b,{path:"Services",element:Object(H.jsx)(_n,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(ln,{})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(ln,{})})]}),Object(H.jsxs)(R.b,{path:"Statistics",element:Object(H.jsx)(Et,{}),children:[Object(H.jsx)(R.b,{path:"BarStatsDaily",element:Object(H.jsx)(La,{})}),Object(H.jsx)(R.b,{path:"AttendanceStats",element:Object(H.jsx)(Ha,{})}),Object(H.jsx)(R.b,{path:"IncomeStats",element:Object(H.jsx)(za,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Other General Statistics Will Be Coming Up Here...."})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Other General Statistics Will Be Coming Up Here...."})})]}),Object(H.jsxs)(R.b,{path:"Bar",element:Object(H.jsx)(Ct,{}),children:[Object(H.jsx)(R.b,{path:"FrontDesk",element:Object(H.jsx)(ra,{})}),Object(H.jsx)(R.b,{path:"Inventory",element:Object(H.jsx)(ua,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(fn,{})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(fn,{})})]}),Object(H.jsxs)(R.b,{path:"Attendance",element:Object(H.jsx)(kt,{}),children:[Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(ma,{})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(ma,{})})]}),Object(H.jsxs)(R.b,{path:"ManageStaff",element:Object(H.jsx)(Tt,{}),children:[Object(H.jsx)(R.b,{path:"ConfigureSalary",element:Object(H.jsx)(fa,{})}),Object(H.jsx)(R.b,{path:"EmployeeDetails",element:Object(H.jsx)(xa,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Staff Statistics Is Coming Up Here...."})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Staff Statistics Is Coming Up Here...."})})]}),Object(H.jsxs)(R.b,{path:"ManageRooms",element:Object(H.jsx)(Dt,{}),children:[Object(H.jsx)(R.b,{path:"AddRoom",element:Object(H.jsx)(Na,{})}),Object(H.jsx)(R.b,{path:"ViewRooms",element:Object(H.jsx)(Ca,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Rooms Dashboard Is Coming Up Here...."})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Rooms Dashboard Is Coming Up Here...."})})]}),Object(H.jsxs)(R.b,{path:"ManageEmployees",element:Object(H.jsx)(Bt,{}),children:[Object(H.jsx)(R.b,{path:"AddEmployee",element:Object(H.jsx)(Ba,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Employee Dashboard Is Coming Up Here...."})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Employee Dashboard Is Coming Up Here...."})})]}),Object(H.jsxs)(R.b,{path:"ManageBranches",element:Object(H.jsx)(At,{}),children:[Object(H.jsx)(R.b,{path:"AddBranch",element:Object(H.jsx)(Fa,{})}),Object(H.jsx)(R.b,{path:"ViewBranches",element:Object(H.jsx)(Ra,{})}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Hotel Branches Dashboard Is Coming Up Here...."})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{subText:"Navigate To Other Sections By Clicking One Of The Item/s On The Top Navigation Bar",text:"Hotel Branches Dashboard Is Coming Up Here...."})})]}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{text:"Hmmm.... Not Sure If This Is The Right Place"})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{text:"Hmmm.... Not Sure If This Is The Right Place"})})]}),Object(H.jsx)(R.b,{path:"*",element:Object(H.jsx)(Xa,{text:"Hmmm.... Not Sure If This Is The Right Place"})}),Object(H.jsx)(R.b,{path:"",element:Object(H.jsx)(Xa,{text:"Hmmm.... Not Sure If This Is The Right Place"})})]})})})})})},Ka=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,678)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(H.jsx)(oe.a,{children:Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(Ua,{})})}),document.getElementById("root")),Ka()}},[[575,1,2]]]);
//# sourceMappingURL=main.540ed92e.chunk.js.map